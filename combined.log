2025-04-16 20:09:31 INFO [inventory-api:EnvValidator]: =============== ENVIRONMENT SUMMARY =============== 
2025-04-16 20:09:31 INFO [inventory-api:Passport]: GitHub authentication strategy initialized successfully 
2025-04-16 20:09:31 INFO [inventory-api:Server]: Server running on https://cse341-final-project-team-14.onrender.com in production mode 
2025-04-16 20:09:31 INFO [inventory-api:EnvValidator]: Environment: PRODUCTION 
2025-04-16 20:09:31 INFO [inventory-api:EnvValidator]: Port: 3000 
2025-04-16 20:09:31 INFO [inventory-api:EnvValidator]: Database: mongodb+srv://ol****:********@cluster0.wncfx.mongodb.net/team_14_final_project?retryWrites=true&w=majority&appName=Cluster0 
2025-04-16 20:09:31 INFO [inventory-api:EnvValidator]: External URL: https://cse341-final-project-team-14.onrender.com 
2025-04-16 20:09:31 INFO [inventory-api:EnvValidator]: ------- Features Status ------- 
2025-04-16 20:09:31 INFO [inventory-api:EnvValidator]: githubOAuth: Enabled ✅ 
2025-04-16 20:09:31 INFO [inventory-api:EnvValidator]: =============================================== 
2025-04-16 20:09:31 INFO [inventory-api:Server]: API Documentation: https://cse341-final-project-team-14.onrender.com/api-docs 
2025-04-16 20:09:34 INFO [inventory-api:Database]: MongoDB Connected: cluster0-shard-00-00.wncfx.mongodb.net 
2025-04-16 20:57:51 INFO [inventory-api:EnvValidator]: =============== ENVIRONMENT SUMMARY =============== 
2025-04-16 20:57:51 INFO [inventory-api:Passport]: GitHub authentication strategy initialized successfully 
2025-04-16 20:57:51 INFO [inventory-api:Server]: Server running on https://cse341-final-project-team-14.onrender.com in production mode 
2025-04-16 20:57:51 INFO [inventory-api:EnvValidator]: Environment: PRODUCTION 
2025-04-16 20:57:51 INFO [inventory-api:EnvValidator]: Port: 3000 
2025-04-16 20:57:51 INFO [inventory-api:EnvValidator]: Database: mongodb+srv://ol****:********@cluster0.wncfx.mongodb.net/team_14_final_project?retryWrites=true&w=majority&appName=Cluster0 
2025-04-16 20:57:51 INFO [inventory-api:EnvValidator]: External URL: https://cse341-final-project-team-14.onrender.com 
2025-04-16 20:57:51 INFO [inventory-api:EnvValidator]: ------- Features Status ------- 
2025-04-16 20:57:51 INFO [inventory-api:EnvValidator]: githubOAuth: Enabled ✅ 
2025-04-16 20:57:51 INFO [inventory-api:EnvValidator]: =============================================== 
2025-04-16 20:57:51 INFO [inventory-api:Server]: API Documentation: https://cse341-final-project-team-14.onrender.com/api-docs 
2025-04-16 20:57:54 INFO [inventory-api:Database]: MongoDB Connected: cluster0-shard-00-02.wncfx.mongodb.net 
2025-04-16 21:07:46 INFO [inventory-api:AuthController]: login controller called 
2025-04-16 21:07:47 INFO [inventory-api:AuthService]: User authenticated successfully: olwalgeorge15@gmail.com 
2025-04-16 21:09:02 ERROR [inventory-api:AuthUtils]: Failed to blacklist token: Token validation failed: type: Path `type` is required. 
ValidationError: Token validation failed: type: Path `type` is required.
    at Document.invalidate (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\mongoose\lib\document.js:3329:32)
    at C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\mongoose\lib\document.js:3090:17
    at C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\mongoose\lib\schemaType.js:1407:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
2025-04-16 21:09:02 INFO [inventory-api:AuthController]: JWT token blacklisted during logout 
2025-04-16 21:09:03 INFO [inventory-api:AuthController]: User logged out successfully: session destroyed and JWT not present 
2025-04-16 21:13:46 INFO [inventory-api:Server]: SIGINT signal received, shutting down gracefully 
2025-04-16 21:13:46 INFO [inventory-api:Database]: Closing MongoDB connection due to server shutdown 
2025-04-16 21:13:58 INFO [inventory-api:EnvValidator]: =============== ENVIRONMENT SUMMARY =============== 
2025-04-16 21:13:58 INFO [inventory-api:Passport]: GitHub authentication strategy initialized successfully 
2025-04-16 21:13:58 INFO [inventory-api:EnvValidator]: Environment: PRODUCTION 
2025-04-16 21:13:58 INFO [inventory-api:EnvValidator]: Port: 3000 
2025-04-16 21:13:58 INFO [inventory-api:EnvValidator]: Database: mongodb+srv://ol****:********@cluster0.wncfx.mongodb.net/team_14_final_project?retryWrites=true&w=majority&appName=Cluster0 
2025-04-16 21:13:58 INFO [inventory-api:EnvValidator]: External URL: https://cse341-final-project-team-14.onrender.com 
2025-04-16 21:13:58 INFO [inventory-api:EnvValidator]: ------- Features Status ------- 
2025-04-16 21:13:58 INFO [inventory-api:EnvValidator]: githubOAuth: Enabled ✅ 
2025-04-16 21:13:58 INFO [inventory-api:EnvValidator]: =============================================== 
2025-04-16 21:13:58 INFO [inventory-api:Server]: Server running on https://cse341-final-project-team-14.onrender.com in production mode 
2025-04-16 21:13:58 INFO [inventory-api:Server]: API Documentation: https://cse341-final-project-team-14.onrender.com/api-docs 
2025-04-16 21:14:01 INFO [inventory-api:Database]: MongoDB Connected: cluster0-shard-00-01.wncfx.mongodb.net 
2025-04-16 21:14:48 INFO [inventory-api:AuthUtils]: Token has been blacklisted. Reason: logout 
2025-04-16 21:14:48 INFO [inventory-api:AuthController]: JWT token blacklisted during logout 
2025-04-16 21:14:48 INFO [inventory-api:AuthController]: User logged out successfully: session destroyed and JWT invalidated 
2025-04-16 21:15:20 WARN [inventory-api:Auth:JWT]: Token was found in blacklist during verification 
2025-04-16 21:16:24 INFO [inventory-api:UsersController]: getAllUsers called 
2025-04-16 21:17:18 INFO [inventory-api:UsersController]: getAllUsers called 
2025-04-16 21:17:21 INFO [inventory-api:UsersController]: getAllUsers called 
2025-04-16 21:17:23 INFO [inventory-api:UsersController]: getAllUsers called 
2025-04-16 21:17:59 WARN [inventory-api:Auth:JWT]: Token was found in blacklist during verification 
2025-04-16 21:18:25 ERROR [inventory-api:AuthUtils]: Failed to blacklist token: E11000 duplicate key error collection: team_14_final_project.tokens index: token_1 dup key: { token: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI2N2ZmYjE2YzNhYThiZmM0OWE1ZGQxZjciLCJ1c2VySWQiOiJVU1ItMDAwMDkiLCJlbWFpbCI6Im9sd2FsZ2VvcmdlMTVAZ21haWwuY..." } 
MongoServerError: E11000 duplicate key error collection: team_14_final_project.tokens index: token_1 dup key: { token: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI2N2ZmYjE2YzNhYThiZmM0OWE1ZGQxZjciLCJ1c2VySWQiOiJVU1ItMDAwMDkiLCJlbWFpbCI6Im9sd2FsZ2VvcmdlMTVAZ21haWwuY..." }
    at InsertOneOperation.execute (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\mongodb\lib\operations\insert.js:51:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async tryOperation (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\mongodb\lib\operations\execute_operation.js:207:20)
    at async executeOperation (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\mongodb\lib\operations\execute_operation.js:75:16)
    at async Collection.insertOne (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\mongodb\lib\collection.js:157:16)
2025-04-16 21:18:25 INFO [inventory-api:AuthController]: JWT token blacklisted during logout 
2025-04-16 21:18:26 INFO [inventory-api:AuthController]: User logged out successfully: session destroyed and JWT not present 
2025-04-16 21:18:51 INFO [inventory-api:UsersController]: getUserById called with ID: undefined 
2025-04-16 21:18:51 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: DatabaseError - User not found 
2025-04-16 21:19:12 INFO [inventory-api:UsersController]: getAllUsers called 
2025-04-16 21:21:47 INFO [inventory-api:EnvValidator]: =============== ENVIRONMENT SUMMARY =============== 
2025-04-16 21:21:47 INFO [inventory-api:Passport]: GitHub authentication strategy initialized successfully 
2025-04-16 21:21:47 INFO [inventory-api:Server]: Server running on https://cse341-final-project-team-14.onrender.com in production mode 
2025-04-16 21:21:47 INFO [inventory-api:EnvValidator]: Environment: PRODUCTION 
2025-04-16 21:21:47 INFO [inventory-api:EnvValidator]: Port: 3000 
2025-04-16 21:21:47 INFO [inventory-api:EnvValidator]: Database: mongodb+srv://ol****:********@cluster0.wncfx.mongodb.net/team_14_final_project?retryWrites=true&w=majority&appName=Cluster0 
2025-04-16 21:21:47 INFO [inventory-api:EnvValidator]: External URL: https://cse341-final-project-team-14.onrender.com 
2025-04-16 21:21:47 INFO [inventory-api:EnvValidator]: ------- Features Status ------- 
2025-04-16 21:21:47 INFO [inventory-api:EnvValidator]: githubOAuth: Enabled ✅ 
2025-04-16 21:21:47 INFO [inventory-api:EnvValidator]: =============================================== 
2025-04-16 21:21:47 INFO [inventory-api:Server]: API Documentation: https://cse341-final-project-team-14.onrender.com/api-docs 
2025-04-16 21:21:50 INFO [inventory-api:Database]: MongoDB Connected: cluster0-shard-00-01.wncfx.mongodb.net 
2025-04-16 21:22:00 INFO [inventory-api:UsersController]: getAllUsers called 
2025-04-16 21:22:23 INFO [inventory-api:UsersController]: getUserProfile called for user jakom (ID: 67ffb16c3aa8bfc49a5dd1f7, userID: USR-00009) 
2025-04-16 21:28:18 INFO [inventory-api:Server]: SIGINT signal received, shutting down gracefully 
2025-04-16 21:28:18 INFO [inventory-api:Database]: Closing MongoDB connection due to server shutdown 
2025-04-16 21:28:30 INFO [inventory-api:EnvValidator]: =============== ENVIRONMENT SUMMARY =============== 
2025-04-16 21:28:30 INFO [inventory-api:Passport]: GitHub authentication strategy initialized successfully 
2025-04-16 21:28:30 INFO [inventory-api:EnvValidator]: Environment: PRODUCTION 
2025-04-16 21:28:30 INFO [inventory-api:EnvValidator]: Port: 3000 
2025-04-16 21:28:30 INFO [inventory-api:EnvValidator]: Database: mongodb+srv://ol****:********@cluster0.wncfx.mongodb.net/team_14_final_project?retryWrites=true&w=majority&appName=Cluster0 
2025-04-16 21:28:30 INFO [inventory-api:EnvValidator]: External URL: https://cse341-final-project-team-14.onrender.com 
2025-04-16 21:28:30 INFO [inventory-api:EnvValidator]: ------- Features Status ------- 
2025-04-16 21:28:30 INFO [inventory-api:EnvValidator]: githubOAuth: Enabled ✅ 
2025-04-16 21:28:30 INFO [inventory-api:EnvValidator]: =============================================== 
2025-04-16 21:28:30 INFO [inventory-api:Server]: Server running on https://cse341-final-project-team-14.onrender.com in production mode 
2025-04-16 21:28:30 INFO [inventory-api:Server]: API Documentation: https://cse341-final-project-team-14.onrender.com/api-docs 
2025-04-16 21:28:33 INFO [inventory-api:Database]: MongoDB Connected: cluster0-shard-00-01.wncfx.mongodb.net 
2025-04-16 21:31:33 WARN [inventory-api:AuthMiddleware]: Attempt to use blacklisted token 
2025-04-16 21:31:33 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: AuthError - Token has been invalidated. Please log in again. 
2025-04-16 21:36:19 INFO [inventory-api:EnvValidator]: =============== ENVIRONMENT SUMMARY =============== 
2025-04-16 21:36:18 INFO [inventory-api:Passport]: GitHub authentication strategy initialized successfully 
2025-04-16 21:36:19 INFO [inventory-api:Server]: Server running on https://cse341-final-project-team-14.onrender.com in production mode 
2025-04-16 21:36:19 INFO [inventory-api:EnvValidator]: Environment: PRODUCTION 
2025-04-16 21:36:19 INFO [inventory-api:EnvValidator]: Port: 3000 
2025-04-16 21:36:19 INFO [inventory-api:EnvValidator]: Database: mongodb+srv://ol****:********@cluster0.wncfx.mongodb.net/team_14_final_project?retryWrites=true&w=majority&appName=Cluster0 
2025-04-16 21:36:19 INFO [inventory-api:EnvValidator]: External URL: https://cse341-final-project-team-14.onrender.com 
2025-04-16 21:36:19 INFO [inventory-api:EnvValidator]: ------- Features Status ------- 
2025-04-16 21:36:19 INFO [inventory-api:EnvValidator]: githubOAuth: Enabled ✅ 
2025-04-16 21:36:19 INFO [inventory-api:EnvValidator]: =============================================== 
2025-04-16 21:36:19 INFO [inventory-api:Server]: API Documentation: https://cse341-final-project-team-14.onrender.com/api-docs 
2025-04-16 21:36:25 INFO [inventory-api:Database]: MongoDB Connected: cluster0-shard-00-01.wncfx.mongodb.net 
2025-04-16 21:36:40 WARN [inventory-api:AuthMiddleware]: Attempt to use blacklisted token 
2025-04-16 21:36:40 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: AuthError - Token has been invalidated. Please log in again. 
2025-04-16 21:36:51 INFO [inventory-api:Server]: SIGINT signal received, shutting down gracefully 
2025-04-16 21:36:51 INFO [inventory-api:Database]: Closing MongoDB connection due to server shutdown 
2025-04-16 21:37:33 INFO [inventory-api:EnvValidator]: =============== ENVIRONMENT SUMMARY =============== 
2025-04-16 21:37:33 INFO [inventory-api:Passport]: GitHub authentication strategy initialized successfully 
2025-04-16 21:37:33 INFO [inventory-api:Server]: Server running on https://cse341-final-project-team-14.onrender.com in production mode 
2025-04-16 21:37:33 INFO [inventory-api:EnvValidator]: Environment: PRODUCTION 
2025-04-16 21:37:33 INFO [inventory-api:EnvValidator]: Port: 3000 
2025-04-16 21:37:33 INFO [inventory-api:EnvValidator]: Database: mongodb+srv://ol****:********@cluster0.wncfx.mongodb.net/team_14_final_project?retryWrites=true&w=majority&appName=Cluster0 
2025-04-16 21:37:33 INFO [inventory-api:EnvValidator]: External URL: https://cse341-final-project-team-14.onrender.com 
2025-04-16 21:37:33 INFO [inventory-api:EnvValidator]: ------- Features Status ------- 
2025-04-16 21:37:33 INFO [inventory-api:EnvValidator]: githubOAuth: Enabled ✅ 
2025-04-16 21:37:33 INFO [inventory-api:EnvValidator]: =============================================== 
2025-04-16 21:37:33 INFO [inventory-api:Server]: API Documentation: https://cse341-final-project-team-14.onrender.com/api-docs 
2025-04-16 21:37:38 INFO [inventory-api:Database]: MongoDB Connected: cluster0-shard-00-02.wncfx.mongodb.net 
2025-04-16 21:47:23 INFO [inventory-api:Server]: SIGINT signal received, shutting down gracefully 
2025-04-16 21:47:23 INFO [inventory-api:Database]: Closing MongoDB connection due to server shutdown 
2025-04-16 21:47:27 INFO [inventory-api:EnvValidator]: =============== ENVIRONMENT SUMMARY =============== 
2025-04-16 21:47:27 INFO [inventory-api:Passport]: GitHub authentication strategy initialized successfully 
2025-04-16 21:47:27 INFO [inventory-api:Server]: Server running on https://cse341-final-project-team-14.onrender.com in production mode 
2025-04-16 21:47:27 INFO [inventory-api:EnvValidator]: Environment: PRODUCTION 
2025-04-16 21:47:27 INFO [inventory-api:EnvValidator]: Port: 3000 
2025-04-16 21:47:27 INFO [inventory-api:EnvValidator]: Database: mongodb+srv://ol****:********@cluster0.wncfx.mongodb.net/team_14_final_project?retryWrites=true&w=majority&appName=Cluster0 
2025-04-16 21:47:27 INFO [inventory-api:EnvValidator]: External URL: https://cse341-final-project-team-14.onrender.com 
2025-04-16 21:47:27 INFO [inventory-api:EnvValidator]: ------- Features Status ------- 
2025-04-16 21:47:27 INFO [inventory-api:EnvValidator]: githubOAuth: Enabled ✅ 
2025-04-16 21:47:27 INFO [inventory-api:EnvValidator]: =============================================== 
2025-04-16 21:47:27 INFO [inventory-api:Server]: API Documentation: https://cse341-final-project-team-14.onrender.com/api-docs 
2025-04-16 21:47:30 INFO [inventory-api:Database]: MongoDB Connected: cluster0-shard-00-01.wncfx.mongodb.net 
2025-04-16 21:52:37 INFO [inventory-api:Server]: SIGINT signal received, shutting down gracefully 
2025-04-16 21:52:37 INFO [inventory-api:Database]: Closing MongoDB connection due to server shutdown 
2025-04-16 21:55:51 INFO [inventory-api:EnvValidator]: =============== ENVIRONMENT SUMMARY =============== 
2025-04-16 21:55:51 INFO [inventory-api:Passport]: GitHub authentication strategy initialized successfully 
2025-04-16 21:55:51 INFO [inventory-api:Server]: Server running on https://cse341-final-project-team-14.onrender.com in production mode 
2025-04-16 21:55:51 INFO [inventory-api:EnvValidator]: Environment: PRODUCTION 
2025-04-16 21:55:51 INFO [inventory-api:EnvValidator]: Port: 3000 
2025-04-16 21:55:51 INFO [inventory-api:EnvValidator]: Database: mongodb+srv://ol****:********@cluster0.wncfx.mongodb.net/team_14_final_project?retryWrites=true&w=majority&appName=Cluster0 
2025-04-16 21:55:51 INFO [inventory-api:EnvValidator]: External URL: https://cse341-final-project-team-14.onrender.com 
2025-04-16 21:55:51 INFO [inventory-api:EnvValidator]: ------- Features Status ------- 
2025-04-16 21:55:51 INFO [inventory-api:EnvValidator]: githubOAuth: Enabled ✅ 
2025-04-16 21:55:51 INFO [inventory-api:EnvValidator]: =============================================== 
2025-04-16 21:55:51 INFO [inventory-api:Server]: API Documentation: https://cse341-final-project-team-14.onrender.com/api-docs 
2025-04-16 21:55:55 INFO [inventory-api:Database]: MongoDB Connected: cluster0-shard-00-00.wncfx.mongodb.net 
2025-04-16 21:58:59 DEBUG [inventory-api:TokenModel]: Fixed duplicate indexes in Token schema: 
2025-04-16 21:58:59 INFO [inventory-api:EnvValidator]: =============== ENVIRONMENT SUMMARY =============== 
2025-04-16 21:58:59 INFO [inventory-api:Passport]: GitHub authentication strategy initialized successfully 
2025-04-16 21:58:59 INFO [inventory-api:Server]: Server running on http://localhost:3000 in development mode 
2025-04-16 21:58:59 INFO [inventory-api:EnvValidator]: Environment: DEVELOPMENT 
2025-04-16 21:58:59 INFO [inventory-api:EnvValidator]: Port: 3000 
2025-04-16 21:58:59 INFO [inventory-api:EnvValidator]: Database: mongodb+srv://ol****:********@cluster0.wncfx.mongodb.net/team_14_final_project?retryWrites=true&w=majority&appName=Cluster0 
2025-04-16 21:58:59 INFO [inventory-api:EnvValidator]: ------- Features Status ------- 
2025-04-16 21:58:59 INFO [inventory-api:EnvValidator]: githubOAuth: Enabled ✅ 
2025-04-16 21:58:59 INFO [inventory-api:EnvValidator]: =============================================== 
2025-04-16 21:58:59 INFO [inventory-api:Server]: API Documentation: http://localhost:3000/api-docs 
2025-04-16 21:59:08 ERROR [inventory-api:Database]: Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/ 
MongooseServerSelectionError: Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/
    at _handleConnectionErrors (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\mongoose\lib\connection.js:1165:11)
    at NativeConnection.openUri (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\mongoose\lib\connection.js:1096:11)
    at async C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\config\database.js:46:22
2025-04-16 21:59:08 ERROR [inventory-api:App]: Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/ 
MongooseServerSelectionError: Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/
    at _handleConnectionErrors (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\mongoose\lib\connection.js:1165:11)
    at NativeConnection.openUri (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\mongoose\lib\connection.js:1096:11)
    at async C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\config\database.js:46:22
2025-04-16 22:00:03 INFO [inventory-api:Server]: SIGINT signal received, shutting down gracefully 
2025-04-16 22:00:03 INFO [inventory-api:Database]: No active MongoDB connection to close 
2025-04-16 22:00:08 DEBUG [inventory-api:TokenModel]: Fixed duplicate indexes in Token schema: 
2025-04-16 22:00:09 INFO [inventory-api:EnvValidator]: =============== ENVIRONMENT SUMMARY =============== 
2025-04-16 22:00:08 INFO [inventory-api:Passport]: GitHub authentication strategy initialized successfully 
2025-04-16 22:00:09 INFO [inventory-api:Server]: Server running on http://localhost:3000 in development mode 
2025-04-16 22:00:09 INFO [inventory-api:EnvValidator]: Environment: DEVELOPMENT 
2025-04-16 22:00:09 INFO [inventory-api:EnvValidator]: Port: 3000 
2025-04-16 22:00:09 INFO [inventory-api:EnvValidator]: Database: mongodb+srv://ol****:********@cluster0.wncfx.mongodb.net/team_14_final_project?retryWrites=true&w=majority&appName=Cluster0 
2025-04-16 22:00:09 INFO [inventory-api:EnvValidator]: ------- Features Status ------- 
2025-04-16 22:00:09 INFO [inventory-api:EnvValidator]: githubOAuth: Enabled ✅ 
2025-04-16 22:00:09 INFO [inventory-api:EnvValidator]: =============================================== 
2025-04-16 22:00:09 INFO [inventory-api:Server]: API Documentation: http://localhost:3000/api-docs 
2025-04-16 22:00:12 INFO [inventory-api:Database]: MongoDB Connected: cluster0-shard-00-01.wncfx.mongodb.net 
2025-04-16 22:00:34 DEBUG [inventory-api:App]: Session: 
2025-04-16 22:00:34 DEBUG [inventory-api:App]: Session: 
2025-04-16 22:00:34 DEBUG [inventory-api:App]: Session: 
2025-04-16 22:00:34 DEBUG [inventory-api:App]: Session: 
2025-04-16 22:00:34 DEBUG [inventory-api:App]: Session: 
2025-04-16 22:07:02 DEBUG [inventory-api:App]: Session: 
2025-04-16 22:07:02 INFO [inventory-api:AuthController]: login controller called 
2025-04-16 22:07:02 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: olwalgeorge15@gmail.com 
2025-04-16 22:07:03 INFO [inventory-api:AuthService]: User authenticated successfully: olwalgeorge15@gmail.com 
2025-04-16 22:07:17 DEBUG [inventory-api:App]: Session: 
2025-04-16 22:07:18 WARN [inventory-api:AuthMiddleware]: Attempt to use blacklisted token 
2025-04-16 22:07:18 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: AuthError - Token has been invalidated. Please log in again. 
2025-04-16 22:16:03 INFO [inventory-api:Server]: SIGINT signal received, shutting down gracefully 
2025-04-16 22:16:03 INFO [inventory-api:Database]: Closing MongoDB connection due to server shutdown 
2025-04-16 22:22:30 INFO [inventory-api:EnvValidator]: =============== ENVIRONMENT SUMMARY =============== 
2025-04-16 22:22:30 INFO [inventory-api:Passport]: GitHub authentication strategy initialized successfully 
2025-04-16 22:22:30 INFO [inventory-api:EnvValidator]: Environment: DEVELOPMENT 
2025-04-16 22:22:30 INFO [inventory-api:EnvValidator]: Port: 3000 
2025-04-16 22:22:30 INFO [inventory-api:EnvValidator]: Database: mongodb+srv://ol****:********@cluster0.wncfx.mongodb.net/team_14_final_project?retryWrites=true&w=majority&appName=Cluster0 
2025-04-16 22:22:30 INFO [inventory-api:EnvValidator]: ------- Features Status ------- 
2025-04-16 22:22:30 INFO [inventory-api:EnvValidator]: githubOAuth: Enabled ✅ 
2025-04-16 22:22:30 INFO [inventory-api:EnvValidator]: =============================================== 
2025-04-16 22:22:30 INFO [inventory-api:Server]: Server running on http://localhost:3000 in development mode 
2025-04-16 22:22:30 INFO [inventory-api:Server]: API Documentation: http://localhost:3000/api-docs 
2025-04-16 22:22:33 INFO [inventory-api:Database]: MongoDB Connected: cluster0-shard-00-00.wncfx.mongodb.net 
2025-04-16 22:24:49 DEBUG [inventory-api:App]: Session: 
2025-04-16 22:24:49 INFO [inventory-api:AuthController]: login controller called 
2025-04-16 22:24:49 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: olwalgeorge15@gmail.com 
2025-04-16 22:24:50 INFO [inventory-api:AuthService]: User authenticated successfully: olwalgeorge15@gmail.com 
2025-04-16 22:29:19 DEBUG [inventory-api:App]: Session: 
2025-04-16 22:29:48 DEBUG [inventory-api:App]: Session: 
2025-04-16 22:29:49 WARN [inventory-api:AuthController]: Error processing token during logout: 
2025-04-16 22:29:49 ERROR [inventory-api:Server]: Uncaught exception: Cannot read properties of undefined (reading 'regenerate') 
TypeError: Cannot read properties of undefined (reading 'regenerate')
    at C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\passport\lib\sessionmanager.js:83:17
    at C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\connect-mongodb-session\index.js:222:44
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
2025-04-16 22:29:49 INFO [inventory-api:Database]: Closing MongoDB connection due to server shutdown 
2025-04-16 22:30:47 INFO [inventory-api:EnvValidator]: =============== ENVIRONMENT SUMMARY =============== 
2025-04-16 22:30:46 INFO [inventory-api:Passport]: GitHub authentication strategy initialized successfully 
2025-04-16 22:30:47 INFO [inventory-api:EnvValidator]: Environment: DEVELOPMENT 
2025-04-16 22:30:47 INFO [inventory-api:EnvValidator]: Port: 3000 
2025-04-16 22:30:47 INFO [inventory-api:EnvValidator]: Database: mongodb+srv://ol****:********@cluster0.wncfx.mongodb.net/team_14_final_project?retryWrites=true&w=majority&appName=Cluster0 
2025-04-16 22:30:47 INFO [inventory-api:EnvValidator]: ------- Features Status ------- 
2025-04-16 22:30:47 INFO [inventory-api:EnvValidator]: githubOAuth: Enabled ✅ 
2025-04-16 22:30:47 INFO [inventory-api:EnvValidator]: =============================================== 
2025-04-16 22:30:47 INFO [inventory-api:Server]: Server running on http://localhost:3000 in development mode 
2025-04-16 22:30:47 INFO [inventory-api:Server]: API Documentation: http://localhost:3000/api-docs 
2025-04-16 22:30:50 INFO [inventory-api:Database]: MongoDB Connected: cluster0-shard-00-00.wncfx.mongodb.net 
2025-04-16 22:30:53 DEBUG [inventory-api:App]: Session: 
2025-04-16 22:31:06 DEBUG [inventory-api:App]: Session: 
2025-04-16 22:31:08 WARN [inventory-api:AuthController]: Error processing token during logout: 
2025-04-16 22:31:08 ERROR [inventory-api:Server]: Uncaught exception: Cannot read properties of undefined (reading 'regenerate') 
TypeError: Cannot read properties of undefined (reading 'regenerate')
    at C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\passport\lib\sessionmanager.js:83:17
    at C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\connect-mongodb-session\index.js:222:44
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
2025-04-16 22:31:08 INFO [inventory-api:Database]: Closing MongoDB connection due to server shutdown 
2025-04-16 22:40:12 DEBUG [inventory-api:TokenModel]: Fixed duplicate indexes in Token schema: 
2025-04-16 22:40:13 INFO [inventory-api:EnvValidator]: =============== ENVIRONMENT SUMMARY =============== 
2025-04-16 22:40:13 INFO [inventory-api:Passport]: GitHub authentication strategy initialized successfully 
2025-04-16 22:40:13 INFO [inventory-api:EnvValidator]: Environment: DEVELOPMENT 
2025-04-16 22:40:13 INFO [inventory-api:EnvValidator]: Port: 3000 
2025-04-16 22:40:13 INFO [inventory-api:EnvValidator]: Database: mongodb+srv://ol****:********@cluster0.wncfx.mongodb.net/team_14_final_project?retryWrites=true&w=majority&appName=Cluster0 
2025-04-16 22:40:13 INFO [inventory-api:EnvValidator]: ------- Features Status ------- 
2025-04-16 22:40:13 INFO [inventory-api:EnvValidator]: githubOAuth: Enabled ✅ 
2025-04-16 22:40:13 INFO [inventory-api:EnvValidator]: =============================================== 
2025-04-16 22:40:13 INFO [inventory-api:Server]: Server running on http://localhost:3000 in development mode 
2025-04-16 22:40:13 INFO [inventory-api:Server]: API Documentation: http://localhost:3000/api-docs 
2025-04-16 22:40:17 INFO [inventory-api:Database]: MongoDB Connected: cluster0-shard-00-01.wncfx.mongodb.net 
2025-04-16 22:40:45 DEBUG [inventory-api:App]: Session: 
2025-04-16 22:40:51 DEBUG [inventory-api:App]: Session: 
2025-04-16 22:40:53 INFO [inventory-api:TokenModel]: Token blacklisted for user 67ffb16c3aa8bfc49a5dd1f7 
2025-04-16 22:40:53 INFO [inventory-api:AuthController]: Token blacklisted for user 67ffb16c3aa8bfc49a5dd1f7 
2025-04-16 22:41:09 DEBUG [inventory-api:App]: Session: 
2025-04-16 22:41:09 WARN [inventory-api:Auth:JWT]: Token was found in blacklist during verification 
2025-04-16 22:41:09 WARN [inventory-api:Middleware:Auth]: Invalid or expired token provided 
2025-04-16 22:41:31 DEBUG [inventory-api:App]: Session: 
2025-04-16 22:41:33 WARN [inventory-api:Auth:JWT]: Token was found in blacklist during verification 
2025-04-16 22:41:33 WARN [inventory-api:Middleware:Auth]: Invalid or expired token provided 
2025-04-16 22:42:16 DEBUG [inventory-api:App]: Session: 
2025-04-16 22:42:25 WARN [inventory-api:Middleware:Auth]: Access denied for user USR-00009 with role USER 
2025-04-16 22:42:38 DEBUG [inventory-api:App]: Session: 
2025-04-16 22:42:38 WARN [inventory-api:Middleware:Auth]: No authentication token provided 
2025-04-16 22:42:52 DEBUG [inventory-api:App]: Session: 
2025-04-16 22:42:52 INFO [inventory-api:AuthController]: login controller called 
2025-04-16 22:42:52 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: olwalgeorge15@gmail.com 
2025-04-16 22:42:52 INFO [inventory-api:AuthService]: User authenticated successfully: olwalgeorge15@gmail.com 
2025-04-16 22:43:47 DEBUG [inventory-api:App]: Session: 
2025-04-16 22:43:47 WARN [inventory-api:Middleware:Auth]: Access denied for user USR-00009 with role USER 
2025-04-16 22:51:36 DEBUG [inventory-api:App]: Session: 
2025-04-16 22:51:37 WARN [inventory-api:Middleware:Auth]: Access denied for user USR-00009 with role USER 
2025-04-16 22:51:43 INFO [inventory-api:Server]: SIGINT signal received, shutting down gracefully 
2025-04-16 22:51:43 INFO [inventory-api:Database]: Closing MongoDB connection due to server shutdown 
2025-04-16 22:51:46 DEBUG [inventory-api:TokenModel]: Fixed duplicate indexes in Token schema: 
2025-04-16 22:51:46 INFO [inventory-api:EnvValidator]: =============== ENVIRONMENT SUMMARY =============== 
2025-04-16 22:51:46 INFO [inventory-api:Passport]: GitHub authentication strategy initialized successfully 
2025-04-16 22:51:46 INFO [inventory-api:Server]: Server running on http://localhost:3000 in development mode 
2025-04-16 22:51:46 INFO [inventory-api:EnvValidator]: Environment: DEVELOPMENT 
2025-04-16 22:51:46 INFO [inventory-api:EnvValidator]: Port: 3000 
2025-04-16 22:51:46 INFO [inventory-api:EnvValidator]: Database: mongodb+srv://ol****:********@cluster0.wncfx.mongodb.net/team_14_final_project?retryWrites=true&w=majority&appName=Cluster0 
2025-04-16 22:51:46 INFO [inventory-api:EnvValidator]: ------- Features Status ------- 
2025-04-16 22:51:46 INFO [inventory-api:EnvValidator]: githubOAuth: Enabled ✅ 
2025-04-16 22:51:46 INFO [inventory-api:EnvValidator]: =============================================== 
2025-04-16 22:51:46 INFO [inventory-api:Server]: API Documentation: http://localhost:3000/api-docs 
2025-04-16 22:51:53 INFO [inventory-api:Database]: MongoDB Connected: cluster0-shard-00-02.wncfx.mongodb.net 
2025-04-16 22:52:34 DEBUG [inventory-api:App]: Session: 
2025-04-16 22:52:35 WARN [inventory-api:Middleware:Auth]: Access denied for user USR-00009 with role USER 
2025-04-16 22:52:35 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: AuthError - You do not have permission to access this resource. Required role: ADMIN or MANAGER 
2025-04-17 10:02:31 DEBUG [inventory-api:TokenModel]: Fixed duplicate indexes in Token schema: 
2025-04-17 10:02:31 INFO [inventory-api:EnvValidator]: =============== ENVIRONMENT SUMMARY =============== 
2025-04-17 10:02:31 INFO [inventory-api:Passport]: GitHub authentication strategy initialized successfully 
2025-04-17 10:02:31 INFO [inventory-api:Server]: Server running on http://localhost:3000 in development mode 
2025-04-17 10:02:31 INFO [inventory-api:EnvValidator]: Environment: DEVELOPMENT 
2025-04-17 10:02:31 INFO [inventory-api:EnvValidator]: Port: 3000 
2025-04-17 10:02:31 INFO [inventory-api:EnvValidator]: Database: mongodb+srv://ol****:********@cluster0.wncfx.mongodb.net/team_14_final_project?retryWrites=true&w=majority&appName=Cluster0 
2025-04-17 10:02:31 INFO [inventory-api:EnvValidator]: ------- Features Status ------- 
2025-04-17 10:02:31 INFO [inventory-api:EnvValidator]: githubOAuth: Enabled ✅ 
2025-04-17 10:02:31 INFO [inventory-api:EnvValidator]: =============================================== 
2025-04-17 10:02:31 INFO [inventory-api:Server]: API Documentation: http://localhost:3000/api-docs 
2025-04-17 10:02:34 INFO [inventory-api:Database]: MongoDB Connected: cluster0-shard-00-01.wncfx.mongodb.net 
2025-04-17 10:02:52 DEBUG [inventory-api:App]: Session: 
2025-04-17 10:02:52 WARN [inventory-api:Auth:JWT]: Token was found in blacklist during verification 
2025-04-17 10:02:52 ERROR [inventory-api:Middleware:Auth]: Authentication error: Token has been revoked. Please log in again. 
AuthError: Token has been revoked. Please log in again.
    at AuthError.unauthorized (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\utils\errors.js:139:12)
    at verifyToken (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\auth\jwt.js:48:23)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async authenticate (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\middlewares\auth.middleware.js:30:21)
2025-04-17 10:02:52 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: AuthError - Authentication failed. 
2025-04-17 10:03:02 DEBUG [inventory-api:App]: Session: 
2025-04-17 10:03:02 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 10:03:02 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: olwalgeorge15@gmail.com 
2025-04-17 10:03:03 INFO [inventory-api:AuthService]: User authenticated successfully: olwalgeorge15@gmail.com 
2025-04-17 10:03:37 DEBUG [inventory-api:App]: Session: 
2025-04-17 10:03:38 INFO [inventory-api:UsersController]: getUserProfile called for user jakom (ID: 67ffb16c3aa8bfc49a5dd1f7) 
2025-04-17 10:03:38 DEBUG [inventory-api:UsersService]: getUserByIdService called with ID: 67ffb16c3aa8bfc49a5dd1f7 
2025-04-17 10:04:21 DEBUG [inventory-api:App]: Session: 
2025-04-17 10:04:21 WARN [inventory-api:Middleware:Auth]: Access denied for user USR-00009 with role USER 
2025-04-17 10:04:21 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: AuthError - You do not have permission to access this resource. Required role: ADMIN or MANAGER 
2025-04-17 10:05:43 DEBUG [inventory-api:App]: Session: 
2025-04-17 10:05:51 DEBUG [inventory-api:App]: Session: 
2025-04-17 10:05:53 INFO [inventory-api:TokenModel]: Token blacklisted for user 67ffb16c3aa8bfc49a5dd1f7 
2025-04-17 10:05:53 INFO [inventory-api:AuthController]: Token blacklisted for user 67ffb16c3aa8bfc49a5dd1f7 
2025-04-17 10:06:01 DEBUG [inventory-api:App]: Session: 
2025-04-17 10:06:01 WARN [inventory-api:Auth:JWT]: Token was found in blacklist during verification 
2025-04-17 10:06:01 ERROR [inventory-api:Middleware:Auth]: Authentication error: Token has been revoked. Please log in again. 
AuthError: Token has been revoked. Please log in again.
    at AuthError.unauthorized (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\utils\errors.js:139:12)
    at verifyToken (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\auth\jwt.js:48:23)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async authenticate (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\middlewares\auth.middleware.js:30:21)
2025-04-17 10:06:01 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: AuthError - Authentication failed. 
2025-04-17 10:07:27 INFO [inventory-api:Server]: SIGINT signal received, shutting down gracefully 
2025-04-17 10:07:27 INFO [inventory-api:Database]: Closing MongoDB connection due to server shutdown 
2025-04-17 10:29:44 DEBUG [inventory-api:TokenModel]: Fixed duplicate indexes in Token schema: 
2025-04-17 10:29:45 INFO [inventory-api:EnvValidator]: =============== ENVIRONMENT SUMMARY =============== 
2025-04-17 10:29:44 INFO [inventory-api:Passport]: GitHub authentication strategy initialized successfully 
2025-04-17 10:29:45 INFO [inventory-api:Server]: MongoDB connected successfully 
2025-04-17 10:29:45 INFO [inventory-api:EnvValidator]: Environment: DEVELOPMENT 
2025-04-17 10:29:45 INFO [inventory-api:EnvValidator]: Port: 3000 
2025-04-17 10:29:45 INFO [inventory-api:EnvValidator]: Database: mongodb+srv://ol****:********@cluster0.wncfx.mongodb.net/team_14_final_project?retryWrites=true&w=majority&appName=Cluster0 
2025-04-17 10:29:45 INFO [inventory-api:EnvValidator]: ------- Features Status ------- 
2025-04-17 10:29:45 INFO [inventory-api:EnvValidator]: githubOAuth: Enabled ✅ 
2025-04-17 10:29:45 INFO [inventory-api:EnvValidator]: =============================================== 
2025-04-17 10:29:47 INFO [inventory-api:Database]: MongoDB Connected: cluster0-shard-00-00.wncfx.mongodb.net 
2025-04-17 10:29:47 DEBUG [inventory-api:UserUtils]: Generating userID 
2025-04-17 10:29:49 DEBUG [inventory-api:UserUtils]: Generated userID: USR-00010 
2025-04-17 10:29:50 INFO [inventory-api:InitUtils]: SUPERADMIN account created successfully: systemadmin (admin@inventory-system.com) 
2025-04-17 10:29:50 INFO [inventory-api:Server]: Server running on http://localhost:3000 in development mode 
2025-04-17 10:29:50 WARN [inventory-api:InitUtils]: Make sure to change the default superadmin password after first login! 
2025-04-17 10:29:50 INFO [inventory-api:Server]: API Documentation: http://localhost:3000/api-docs 
2025-04-17 10:36:28 INFO [inventory-api:Server]: SIGINT signal received, shutting down gracefully 
2025-04-17 10:36:28 INFO [inventory-api:Database]: Closing MongoDB connection due to server shutdown 
2025-04-17 10:36:33 DEBUG [inventory-api:TokenModel]: Fixed duplicate indexes in Token schema: 
2025-04-17 10:36:34 INFO [inventory-api:EnvValidator]: =============== ENVIRONMENT SUMMARY =============== 
2025-04-17 10:36:33 INFO [inventory-api:Passport]: GitHub authentication strategy initialized successfully 
2025-04-17 10:36:34 INFO [inventory-api:Server]: MongoDB connected successfully 
2025-04-17 10:36:34 INFO [inventory-api:EnvValidator]: Environment: DEVELOPMENT 
2025-04-17 10:36:34 INFO [inventory-api:EnvValidator]: Port: 3000 
2025-04-17 10:36:34 INFO [inventory-api:EnvValidator]: Database: mongodb+srv://ol****:********@cluster0.wncfx.mongodb.net/team_14_final_project?retryWrites=true&w=majority&appName=Cluster0 
2025-04-17 10:36:34 INFO [inventory-api:EnvValidator]: ------- Features Status ------- 
2025-04-17 10:36:34 INFO [inventory-api:EnvValidator]: githubOAuth: Enabled ✅ 
2025-04-17 10:36:34 INFO [inventory-api:EnvValidator]: =============================================== 
2025-04-17 10:36:36 INFO [inventory-api:App]: Connected to MongoDB 
2025-04-17 10:36:36 INFO [inventory-api:InitUtils]: SUPERADMIN account already exists. Skipping initialization. 
2025-04-17 10:36:36 INFO [inventory-api:Server]: Server running on http://localhost:3000 in development mode 
2025-04-17 10:36:36 INFO [inventory-api:Server]: API Documentation: http://localhost:3000/api-docs 
2025-04-17 10:36:38 INFO [inventory-api:InitUtils]: SUPERADMIN account already exists. Skipping initialization. 
2025-04-17 10:37:21 INFO [inventory-api:Server]: SIGINT signal received, shutting down gracefully 
2025-04-17 10:37:21 INFO [inventory-api:Database]: Closing MongoDB connection due to server shutdown 
2025-04-17 10:44:47 DEBUG [inventory-api:TokenModel]: Fixed duplicate indexes in Token schema: 
2025-04-17 10:44:48 INFO [inventory-api:EnvValidator]: =============== ENVIRONMENT SUMMARY =============== 
2025-04-17 10:44:47 INFO [inventory-api:Passport]: GitHub authentication strategy initialized successfully 
2025-04-17 10:44:48 INFO [inventory-api:Server]: MongoDB connected successfully 
2025-04-17 10:44:48 INFO [inventory-api:EnvValidator]: Environment: DEVELOPMENT 
2025-04-17 10:44:48 INFO [inventory-api:EnvValidator]: Port: 3000 
2025-04-17 10:44:48 INFO [inventory-api:EnvValidator]: Database: mongodb+srv://ol****:********@cluster0.wncfx.mongodb.net/team_14_final_project?retryWrites=true&w=majority&appName=Cluster0 
2025-04-17 10:44:48 INFO [inventory-api:EnvValidator]: ------- Features Status ------- 
2025-04-17 10:44:48 INFO [inventory-api:EnvValidator]: githubOAuth: Enabled ✅ 
2025-04-17 10:44:48 INFO [inventory-api:EnvValidator]: =============================================== 
2025-04-17 10:44:51 INFO [inventory-api:Database]: MongoDB Connected: cluster0-shard-00-00.wncfx.mongodb.net 
2025-04-17 10:44:51 INFO [inventory-api:InitUtils]: SUPERADMIN account already exists. Skipping initialization. 
2025-04-17 10:44:51 INFO [inventory-api:Server]: Server running on http://localhost:3000 in development mode 
2025-04-17 10:44:51 INFO [inventory-api:Server]: API Documentation: http://localhost:3000/api-docs 
2025-04-17 10:48:29 DEBUG [inventory-api:App]: Session: 
2025-04-17 10:48:29 DEBUG [inventory-api:App]: Session: 
2025-04-17 10:48:29 DEBUG [inventory-api:App]: Session: 
2025-04-17 10:48:29 DEBUG [inventory-api:App]: Session: 
2025-04-17 10:48:29 DEBUG [inventory-api:App]: Session: 
2025-04-17 10:51:39 DEBUG [inventory-api:App]: Session: 
2025-04-17 10:51:39 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 10:51:39 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: admin@inventory-system.com 
2025-04-17 10:51:40 INFO [inventory-api:AuthService]: User authenticated successfully: admin@inventory-system.com 
2025-04-17 10:57:06 DEBUG [inventory-api:App]: Session: 
2025-04-17 10:57:06 WARN [inventory-api:Middleware:Auth]: Access denied for user USR-00010 with role SUPERADMIN 
2025-04-17 10:57:06 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: AuthError - You do not have permission to access this resource. Required role: ADMIN or MANAGER 
2025-04-17 11:01:40 INFO [inventory-api:Server]: SIGINT signal received, shutting down gracefully 
2025-04-17 11:01:40 INFO [inventory-api:Database]: Closing MongoDB connection due to server shutdown 
2025-04-17 11:01:45 DEBUG [inventory-api:TokenModel]: Fixed duplicate indexes in Token schema: 
2025-04-17 11:01:45 INFO [inventory-api:EnvValidator]: =============== ENVIRONMENT SUMMARY =============== 
2025-04-17 11:01:45 INFO [inventory-api:Passport]: GitHub authentication strategy initialized successfully 
2025-04-17 11:01:45 INFO [inventory-api:Server]: MongoDB connected successfully 
2025-04-17 11:01:45 INFO [inventory-api:EnvValidator]: Environment: DEVELOPMENT 
2025-04-17 11:01:45 INFO [inventory-api:EnvValidator]: Port: 3000 
2025-04-17 11:01:45 INFO [inventory-api:EnvValidator]: Database: mongodb+srv://ol****:********@cluster0.wncfx.mongodb.net/team_14_final_project?retryWrites=true&w=majority&appName=Cluster0 
2025-04-17 11:01:45 INFO [inventory-api:EnvValidator]: ------- Features Status ------- 
2025-04-17 11:01:45 INFO [inventory-api:EnvValidator]: githubOAuth: Enabled ✅ 
2025-04-17 11:01:45 INFO [inventory-api:EnvValidator]: =============================================== 
2025-04-17 11:01:51 ERROR [inventory-api:Database]: Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/ 
MongooseServerSelectionError: Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/
    at _handleConnectionErrors (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\mongoose\lib\connection.js:1165:11)
    at NativeConnection.openUri (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\mongoose\lib\connection.js:1096:11)
    at async C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\config\database.js:46:22
2025-04-17 11:01:51 ERROR [inventory-api:App]: Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/ 
MongooseServerSelectionError: Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/
    at _handleConnectionErrors (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\mongoose\lib\connection.js:1165:11)
    at NativeConnection.openUri (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\mongoose\lib\connection.js:1096:11)
    at async C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\config\database.js:46:22
2025-04-17 11:01:56 ERROR [inventory-api:InitUtils]: Failed to initialize SUPERADMIN account: Operation `users.findOne()` buffering timed out after 10000ms 
MongooseError: Operation `users.findOne()` buffering timed out after 10000ms
    at Timeout.<anonymous> (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\mongoose\lib\drivers\node-mongodb-native\collection.js:187:23)
    at listOnTimeout (node:internal/timers:594:17)
    at process.processTimers (node:internal/timers:529:7)
2025-04-17 11:01:56 INFO [inventory-api:Server]: Server running on http://localhost:3000 in development mode 
2025-04-17 11:01:56 INFO [inventory-api:Server]: API Documentation: http://localhost:3000/api-docs 
2025-04-17 11:02:24 INFO [inventory-api:Server]: SIGINT signal received, shutting down gracefully 
2025-04-17 11:02:24 INFO [inventory-api:Database]: No active MongoDB connection to close 
2025-04-17 11:02:34 DEBUG [inventory-api:TokenModel]: Fixed duplicate indexes in Token schema: 
2025-04-17 11:02:34 INFO [inventory-api:EnvValidator]: =============== ENVIRONMENT SUMMARY =============== 
2025-04-17 11:02:34 INFO [inventory-api:Passport]: GitHub authentication strategy initialized successfully 
2025-04-17 11:02:34 INFO [inventory-api:Server]: MongoDB connected successfully 
2025-04-17 11:02:34 INFO [inventory-api:EnvValidator]: Environment: DEVELOPMENT 
2025-04-17 11:02:34 INFO [inventory-api:EnvValidator]: Port: 3000 
2025-04-17 11:02:34 INFO [inventory-api:EnvValidator]: Database: mongodb+srv://ol****:********@cluster0.wncfx.mongodb.net/team_14_final_project?retryWrites=true&w=majority&appName=Cluster0 
2025-04-17 11:02:34 INFO [inventory-api:EnvValidator]: ------- Features Status ------- 
2025-04-17 11:02:34 INFO [inventory-api:EnvValidator]: githubOAuth: Enabled ✅ 
2025-04-17 11:02:34 INFO [inventory-api:EnvValidator]: =============================================== 
2025-04-17 11:02:37 INFO [inventory-api:Database]: MongoDB Connected: cluster0-shard-00-01.wncfx.mongodb.net 
2025-04-17 11:02:37 INFO [inventory-api:InitUtils]: SUPERADMIN account already exists. Skipping initialization. 
2025-04-17 11:02:37 INFO [inventory-api:Server]: Server running on http://localhost:3000 in development mode 
2025-04-17 11:02:37 INFO [inventory-api:Server]: API Documentation: http://localhost:3000/api-docs 
2025-04-17 11:02:53 DEBUG [inventory-api:App]: Session: 
2025-04-17 11:02:54 WARN [inventory-api:Utils:Auth]: Invalid role comparison: SUPERADMIN vs ADMIN 
2025-04-17 11:02:54 WARN [inventory-api:Middleware:Auth]: Access denied for user USR-00010 with role SUPERADMIN 
2025-04-17 11:02:54 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: AuthError - You do not have permission to access this resource. Required role: ADMIN or MANAGER 
2025-04-17 11:02:54 WARN [inventory-api:Utils:Auth]: Invalid role comparison: SUPERADMIN vs MANAGER 
2025-04-17 11:04:12 INFO [inventory-api:Server]: SIGINT signal received, shutting down gracefully 
2025-04-17 11:04:12 INFO [inventory-api:Database]: Closing MongoDB connection due to server shutdown 
2025-04-17 11:04:17 DEBUG [inventory-api:TokenModel]: Fixed duplicate indexes in Token schema: 
2025-04-17 11:04:18 INFO [inventory-api:EnvValidator]: =============== ENVIRONMENT SUMMARY =============== 
2025-04-17 11:04:18 INFO [inventory-api:Passport]: GitHub authentication strategy initialized successfully 
2025-04-17 11:04:18 INFO [inventory-api:EnvValidator]: Environment: DEVELOPMENT 
2025-04-17 11:04:18 INFO [inventory-api:EnvValidator]: Port: 3000 
2025-04-17 11:04:18 INFO [inventory-api:EnvValidator]: Database: mongodb+srv://ol****:********@cluster0.wncfx.mongodb.net/team_14_final_project?retryWrites=true&w=majority&appName=Cluster0 
2025-04-17 11:04:18 INFO [inventory-api:EnvValidator]: ------- Features Status ------- 
2025-04-17 11:04:18 INFO [inventory-api:EnvValidator]: githubOAuth: Enabled ✅ 
2025-04-17 11:04:18 INFO [inventory-api:EnvValidator]: =============================================== 
2025-04-17 11:04:18 INFO [inventory-api:Server]: MongoDB connected successfully 
2025-04-17 11:04:21 INFO [inventory-api:Database]: MongoDB Connected: cluster0-shard-00-01.wncfx.mongodb.net 
2025-04-17 11:04:21 INFO [inventory-api:InitUtils]: SUPERADMIN account already exists. Skipping initialization. 
2025-04-17 11:04:21 INFO [inventory-api:Server]: Server running on http://localhost:3000 in development mode 
2025-04-17 11:04:21 INFO [inventory-api:Server]: API Documentation: http://localhost:3000/api-docs 
2025-04-17 11:04:36 DEBUG [inventory-api:App]: Session: 
2025-04-17 11:04:36 INFO [inventory-api:UsersController]: getAllUsers called 
2025-04-17 11:04:36 DEBUG [inventory-api:UsersService]: getAllUsersService called with query: 
2025-04-17 11:04:36 DEBUG [inventory-api:APIFeatures]: Built filter: 
2025-04-17 11:04:36 DEBUG [inventory-api:UsersController]: Query parameters: 
2025-04-17 11:18:31 INFO [inventory-api:Server]: SIGINT signal received, shutting down gracefully 
2025-04-17 11:18:31 INFO [inventory-api:Database]: Closing MongoDB connection due to server shutdown 
2025-04-17 11:22:27 DEBUG [inventory-api:TokenModel]: Fixed duplicate indexes in Token schema: 
2025-04-17 11:22:28 INFO [inventory-api:EnvValidator]: =============== ENVIRONMENT SUMMARY =============== 
2025-04-17 11:22:27 INFO [inventory-api:Passport]: GitHub authentication strategy initialized successfully 
2025-04-17 11:22:28 INFO [inventory-api:EnvValidator]: Environment: DEVELOPMENT 
2025-04-17 11:22:28 INFO [inventory-api:EnvValidator]: Port: 3000 
2025-04-17 11:22:28 INFO [inventory-api:EnvValidator]: Database: mongodb+srv://ol****:********@cluster0.wncfx.mongodb.net/team_14_final_project?retryWrites=true&w=majority&appName=Cluster0 
2025-04-17 11:22:28 INFO [inventory-api:EnvValidator]: ------- Features Status ------- 
2025-04-17 11:22:28 INFO [inventory-api:EnvValidator]: githubOAuth: Enabled ✅ 
2025-04-17 11:22:28 INFO [inventory-api:EnvValidator]: =============================================== 
2025-04-17 11:22:28 INFO [inventory-api:Server]: MongoDB connected successfully 
2025-04-17 11:22:30 INFO [inventory-api:Database]: MongoDB Connected: cluster0-shard-00-02.wncfx.mongodb.net 
2025-04-17 11:22:30 INFO [inventory-api:InitUtils]: SUPERADMIN account already exists. Skipping initialization. 
2025-04-17 11:22:30 INFO [inventory-api:Server]: Server running on http://localhost:3000 in development mode 
2025-04-17 11:22:30 INFO [inventory-api:Server]: API Documentation: http://localhost:3000/api-docs 
2025-04-17 11:37:23 DEBUG [inventory-api:App]: Session: 
2025-04-17 11:37:24 WARN [inventory-api:Auth:JWT]: Token was found in blacklist during verification 
2025-04-17 11:37:24 ERROR [inventory-api:Middleware:Auth]: Authentication error: Token has been revoked. Please log in again. 
AuthError: Token has been revoked. Please log in again.
    at AuthError.unauthorized (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\utils\errors.js:139:12)
    at verifyToken (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\auth\jwt.js:48:23)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async authenticate (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\middlewares\auth.middleware.js:31:21)
2025-04-17 11:37:24 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: AuthError - Authentication failed. 
2025-04-17 11:40:59 DEBUG [inventory-api:App]: Session: 
2025-04-17 11:40:59 WARN [inventory-api:Auth:JWT]: Invalid JWT format: 
2025-04-17 11:40:59 ERROR [inventory-api:Middleware:Auth]: Authentication error: Invalid authentication token 
AuthError: Invalid authentication token
    at AuthError.unauthorized (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\utils\errors.js:139:12)
    at verifyToken (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\auth\jwt.js:80:23)
    at authenticate (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\middlewares\auth.middleware.js:31:27)
    at Layer.handle [as handle_request] (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\express\lib\router\index.js:284:15
    at Function.process_params (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\express\lib\router\index.js:346:12)
    at next (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\express\lib\router\index.js:280:10)
2025-04-17 11:40:59 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: AuthError - Authentication failed. 
2025-04-17 11:41:02 DEBUG [inventory-api:App]: Session: 
2025-04-17 11:41:02 WARN [inventory-api:Auth:JWT]: Invalid JWT format: 
2025-04-17 11:41:02 ERROR [inventory-api:Middleware:Auth]: Authentication error: Invalid authentication token 
AuthError: Invalid authentication token
    at AuthError.unauthorized (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\utils\errors.js:139:12)
    at verifyToken (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\auth\jwt.js:80:23)
    at authenticate (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\middlewares\auth.middleware.js:31:27)
    at Layer.handle [as handle_request] (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\express\lib\router\index.js:284:15
    at Function.process_params (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\express\lib\router\index.js:346:12)
    at next (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\express\lib\router\index.js:280:10)
2025-04-17 11:41:02 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: AuthError - Authentication failed. 
2025-04-17 11:41:03 DEBUG [inventory-api:App]: Session: 
2025-04-17 11:41:03 WARN [inventory-api:Auth:JWT]: Invalid JWT format: 
2025-04-17 11:41:03 ERROR [inventory-api:Middleware:Auth]: Authentication error: Invalid authentication token 
AuthError: Invalid authentication token
    at AuthError.unauthorized (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\utils\errors.js:139:12)
    at verifyToken (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\auth\jwt.js:80:23)
    at authenticate (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\middlewares\auth.middleware.js:31:27)
    at Layer.handle [as handle_request] (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\express\lib\router\index.js:284:15
    at Function.process_params (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\express\lib\router\index.js:346:12)
    at next (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\express\lib\router\index.js:280:10)
2025-04-17 11:41:03 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: AuthError - Authentication failed. 
2025-04-17 11:41:04 DEBUG [inventory-api:App]: Session: 
2025-04-17 11:41:04 WARN [inventory-api:Auth:JWT]: Invalid JWT format: 
2025-04-17 11:41:04 ERROR [inventory-api:Middleware:Auth]: Authentication error: Invalid authentication token 
AuthError: Invalid authentication token
    at AuthError.unauthorized (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\utils\errors.js:139:12)
    at verifyToken (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\auth\jwt.js:80:23)
    at authenticate (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\middlewares\auth.middleware.js:31:27)
    at Layer.handle [as handle_request] (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\express\lib\router\index.js:284:15
    at Function.process_params (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\express\lib\router\index.js:346:12)
    at next (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\express\lib\router\index.js:280:10)
2025-04-17 11:41:04 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: AuthError - Authentication failed. 
2025-04-17 11:42:58 DEBUG [inventory-api:App]: Session: 
2025-04-17 11:42:58 WARN [inventory-api:Auth:JWT]: Token was found in blacklist during verification 
2025-04-17 11:42:58 ERROR [inventory-api:Middleware:Auth]: Authentication error: Token has been revoked. Please log in again. 
AuthError: Token has been revoked. Please log in again.
    at AuthError.unauthorized (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\utils\errors.js:139:12)
    at verifyToken (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\auth\jwt.js:48:23)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async authenticate (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\middlewares\auth.middleware.js:31:21)
2025-04-17 11:42:58 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: AuthError - Authentication failed. 
2025-04-17 11:43:02 DEBUG [inventory-api:App]: Session: 
2025-04-17 11:43:03 WARN [inventory-api:Auth:JWT]: Token was found in blacklist during verification 
2025-04-17 11:43:03 ERROR [inventory-api:Middleware:Auth]: Authentication error: Token has been revoked. Please log in again. 
AuthError: Token has been revoked. Please log in again.
    at AuthError.unauthorized (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\utils\errors.js:139:12)
    at verifyToken (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\auth\jwt.js:48:23)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async authenticate (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\middlewares\auth.middleware.js:31:21)
2025-04-17 11:43:03 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: AuthError - Authentication failed. 
2025-04-17 11:43:15 DEBUG [inventory-api:App]: Session: 
2025-04-17 11:43:15 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 11:43:15 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: admin@inventory-system.com 
2025-04-17 11:43:16 INFO [inventory-api:AuthService]: User authenticated successfully: admin@inventory-system.com 
2025-04-17 11:43:55 DEBUG [inventory-api:App]: Session: 
2025-04-17 11:43:55 WARN [inventory-api:Auth:JWT]: Token was found in blacklist during verification 
2025-04-17 11:43:55 ERROR [inventory-api:Middleware:Auth]: Authentication error: Token has been revoked. Please log in again. 
AuthError: Token has been revoked. Please log in again.
    at AuthError.unauthorized (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\utils\errors.js:139:12)
    at verifyToken (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\auth\jwt.js:48:23)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async authenticate (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\middlewares\auth.middleware.js:31:21)
2025-04-17 11:43:55 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: AuthError - Authentication failed. 
2025-04-17 11:44:43 DEBUG [inventory-api:App]: Session: 
2025-04-17 11:44:44 INFO [inventory-api:UsersController]: getAllUsers called 
2025-04-17 11:44:44 DEBUG [inventory-api:UsersService]: getAllUsersService called with query: 
2025-04-17 11:44:44 DEBUG [inventory-api:APIFeatures]: Built filter: 
2025-04-17 11:44:44 DEBUG [inventory-api:UsersController]: Query parameters: 
2025-04-17 11:46:14 DEBUG [inventory-api:App]: Session: 
2025-04-17 11:46:15 INFO [inventory-api:UsersController]: getUserProfile called for user systemadmin (ID: 6800aded707777d5a69e2670) 
2025-04-17 11:46:15 DEBUG [inventory-api:UsersService]: getUserByIdService called with ID: 6800aded707777d5a69e2670 
2025-04-17 11:47:59 DEBUG [inventory-api:App]: Session: 
2025-04-17 11:47:59 WARN [inventory-api:Auth:JWT]: Invalid JWT format: 
2025-04-17 11:47:59 ERROR [inventory-api:Middleware:Auth]: Authentication error: Invalid authentication token 
AuthError: Invalid authentication token
    at AuthError.unauthorized (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\utils\errors.js:139:12)
    at verifyToken (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\auth\jwt.js:80:23)
    at authenticate (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\middlewares\auth.middleware.js:31:27)
    at Layer.handle [as handle_request] (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\express\lib\router\index.js:284:15
    at Function.process_params (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\express\lib\router\index.js:346:12)
    at next (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\express\lib\router\index.js:280:10)
2025-04-17 11:47:59 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: AuthError - Authentication failed. 
2025-04-17 11:48:28 DEBUG [inventory-api:App]: Session: 
2025-04-17 11:48:29 INFO [inventory-api:UsersController]: createUser called 
2025-04-17 11:48:29 DEBUG [inventory-api:UserUtils]: Generating userID 
2025-04-17 11:48:29 DEBUG [inventory-api:UsersController]: Request body: 
2025-04-17 11:48:29 DEBUG [inventory-api:UserService:createUser]: Creating new user 
2025-04-17 11:48:29 DEBUG [inventory-api:UserUtils]: Generated userID: USR-00011 
2025-04-17 11:48:29 DEBUG [inventory-api:UserService:createUser]: Generated userID: USR-00011 
2025-04-17 11:48:29 INFO [inventory-api:UserService:createUser]: User created successfully: newadmin (newadmin@example.com) 
2025-04-17 11:49:05 DEBUG [inventory-api:App]: Session: 
2025-04-17 11:49:05 INFO [inventory-api:UsersController]: createUser called 
2025-04-17 11:49:05 DEBUG [inventory-api:UserUtils]: Generating userID 
2025-04-17 11:49:05 DEBUG [inventory-api:UsersController]: Request body: 
2025-04-17 11:49:05 DEBUG [inventory-api:UserService:createUser]: Creating new user 
2025-04-17 11:49:06 DEBUG [inventory-api:UserUtils]: Generated userID: USR-00012 
2025-04-17 11:49:06 DEBUG [inventory-api:UserService:createUser]: Generated userID: USR-00012 
2025-04-17 11:49:06 INFO [inventory-api:UserService:createUser]: User created successfully: newmanager (newmanager@example.com) 
2025-04-17 11:49:48 DEBUG [inventory-api:App]: Session: 
2025-04-17 11:49:49 INFO [inventory-api:UsersController]: createUser called 
2025-04-17 11:49:49 DEBUG [inventory-api:UserUtils]: Generating userID 
2025-04-17 11:49:49 DEBUG [inventory-api:UsersController]: Request body: 
2025-04-17 11:49:49 DEBUG [inventory-api:UserService:createUser]: Creating new user 
2025-04-17 11:49:49 DEBUG [inventory-api:UserUtils]: Generated userID: USR-00013 
2025-04-17 11:49:49 DEBUG [inventory-api:UserService:createUser]: Generated userID: USR-00013 
2025-04-17 11:49:49 ERROR [inventory-api:UsersController]: Error creating user: Validation failed for field: role 
ValidationError: Validation failed for field: role
    at createUserService (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\services\users.service.js:230:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\controllers\users.controller.js:373:18
2025-04-17 11:49:49 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: ValidationError - Validation failed for field: role 
2025-04-17 11:53:01 DEBUG [inventory-api:App]: Session: 
2025-04-17 11:53:02 INFO [inventory-api:UsersController]: createUser called 
2025-04-17 11:53:02 DEBUG [inventory-api:UserUtils]: Generating userID 
2025-04-17 11:53:02 DEBUG [inventory-api:UsersController]: Request body: 
2025-04-17 11:53:02 DEBUG [inventory-api:UserService:createUser]: Creating new user 
2025-04-17 11:53:02 DEBUG [inventory-api:UserUtils]: Generated userID: USR-00014 
2025-04-17 11:53:02 DEBUG [inventory-api:UserService:createUser]: Generated userID: USR-00014 
2025-04-17 11:53:02 INFO [inventory-api:UserService:createUser]: User created successfully: newuser (newuser@example.com) 
2025-04-17 11:53:27 DEBUG [inventory-api:App]: Session: 
2025-04-17 11:53:28 INFO [inventory-api:UsersController]: getAllUsers called 
2025-04-17 11:53:28 DEBUG [inventory-api:UsersService]: getAllUsersService called with query: 
2025-04-17 11:53:28 DEBUG [inventory-api:APIFeatures]: Built filter: 
2025-04-17 11:53:28 DEBUG [inventory-api:UsersController]: Query parameters: 
2025-04-17 12:06:03 INFO [inventory-api:Server]: SIGINT signal received, shutting down gracefully 
2025-04-17 12:06:03 INFO [inventory-api:Database]: Closing MongoDB connection due to server shutdown 
2025-04-17 12:06:10 DEBUG [inventory-api:TokenModel]: Fixed duplicate indexes in Token schema: 
2025-04-17 12:06:10 INFO [inventory-api:EnvValidator]: =============== ENVIRONMENT SUMMARY =============== 
2025-04-17 12:06:10 INFO [inventory-api:Passport]: GitHub authentication strategy initialized successfully 
2025-04-17 12:06:10 INFO [inventory-api:Server]: MongoDB connected successfully 
2025-04-17 12:06:10 INFO [inventory-api:EnvValidator]: Environment: DEVELOPMENT 
2025-04-17 12:06:10 INFO [inventory-api:EnvValidator]: Port: 3000 
2025-04-17 12:06:10 INFO [inventory-api:EnvValidator]: Database: mongodb+srv://ol****:********@cluster0.wncfx.mongodb.net/team_14_final_project?retryWrites=true&w=majority&appName=Cluster0 
2025-04-17 12:06:10 INFO [inventory-api:EnvValidator]: ------- Features Status ------- 
2025-04-17 12:06:10 INFO [inventory-api:EnvValidator]: githubOAuth: Enabled ✅ 
2025-04-17 12:06:10 INFO [inventory-api:EnvValidator]: =============================================== 
2025-04-17 12:06:15 INFO [inventory-api:Database]: MongoDB Connected: cluster0-shard-00-01.wncfx.mongodb.net 
2025-04-17 12:06:16 INFO [inventory-api:InitUtils]: SUPERADMIN account already exists. Skipping initialization. 
2025-04-17 12:06:16 INFO [inventory-api:Server]: Server running on http://localhost:3000 in development mode 
2025-04-17 12:06:16 INFO [inventory-api:Server]: API Documentation: http://localhost:3000/api-docs 
2025-04-17 12:09:06 INFO [inventory-api:Server]: SIGINT signal received, shutting down gracefully 
2025-04-17 12:09:06 INFO [inventory-api:Database]: Closing MongoDB connection due to server shutdown 
2025-04-17 12:09:15 DEBUG [inventory-api:TokenModel]: Fixed duplicate indexes in Token schema: 
2025-04-17 12:09:15 INFO [inventory-api:EnvValidator]: =============== ENVIRONMENT SUMMARY =============== 
2025-04-17 12:09:15 INFO [inventory-api:Passport]: GitHub authentication strategy initialized successfully 
2025-04-17 12:09:15 INFO [inventory-api:EnvValidator]: Environment: DEVELOPMENT 
2025-04-17 12:09:15 INFO [inventory-api:EnvValidator]: Port: 3000 
2025-04-17 12:09:15 INFO [inventory-api:EnvValidator]: Database: mongodb+srv://ol****:********@cluster0.wncfx.mongodb.net/team_14_final_project?retryWrites=true&w=majority&appName=Cluster0 
2025-04-17 12:09:15 INFO [inventory-api:EnvValidator]: ------- Features Status ------- 
2025-04-17 12:09:15 INFO [inventory-api:EnvValidator]: githubOAuth: Enabled ✅ 
2025-04-17 12:09:15 INFO [inventory-api:EnvValidator]: =============================================== 
2025-04-17 12:09:15 INFO [inventory-api:Server]: MongoDB connected successfully 
2025-04-17 12:09:18 INFO [inventory-api:Database]: MongoDB Connected: cluster0-shard-00-00.wncfx.mongodb.net 
2025-04-17 12:09:18 INFO [inventory-api:InitUtils]: SUPERADMIN account already exists. Skipping initialization. 
2025-04-17 12:09:18 INFO [inventory-api:Server]: Server running on http://localhost:3000 in development mode 
2025-04-17 12:09:18 INFO [inventory-api:Server]: API Documentation: http://localhost:3000/api-docs 
2025-04-17 12:10:38 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:10:39 INFO [inventory-api:UsersController]: createUser called 
2025-04-17 12:10:39 DEBUG [inventory-api:UserUtils]: Generating userID 
2025-04-17 12:10:39 DEBUG [inventory-api:UsersController]: Request body: 
2025-04-17 12:10:39 DEBUG [inventory-api:UserService:createUser]: Creating new user 
2025-04-17 12:10:39 DEBUG [inventory-api:UserUtils]: Generated userID: USR-00015 
2025-04-17 12:10:39 DEBUG [inventory-api:UserService:createUser]: Generated userID: USR-00015 
2025-04-17 12:10:39 INFO [inventory-api:UserService:createUser]: User created successfully: newsupervisor (newsupervisor@example.com) 
2025-04-17 12:13:24 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:13:24 INFO [inventory-api:UsersController]: getAllUsers called 
2025-04-17 12:13:24 DEBUG [inventory-api:UsersService]: getAllUsersService called with query: 
2025-04-17 12:13:24 DEBUG [inventory-api:APIFeatures]: Built filter: 
2025-04-17 12:13:24 DEBUG [inventory-api:UsersController]: Query parameters: 
2025-04-17 12:16:04 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:16:04 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 12:16:04 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: olwalgeorge15@gmail.com 
2025-04-17 12:16:05 ERROR [inventory-api:AuthController]: Error in login controller: Invalid email or password 
AuthError: Invalid email or password
    at AuthError.invalidCredentials (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\utils\errors.js:149:12)
    at authenticateUserService (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\services\auth.service.js:203:23)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\controllers\auth.controller.js:67:18
2025-04-17 12:16:05 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: AuthError - Invalid email or password 
2025-04-17 12:16:46 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:16:46 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 12:16:46 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: newadmin@example.com 
2025-04-17 12:16:47 INFO [inventory-api:AuthService]: User authenticated successfully: newadmin@example.com 
2025-04-17 12:17:33 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:17:33 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 12:17:33 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: newmanager@example.com 
2025-04-17 12:17:34 INFO [inventory-api:AuthService]: User authenticated successfully: newmanager@example.com 
2025-04-17 12:17:46 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:17:46 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 12:17:46 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: newsupervisor@example.com 
2025-04-17 12:17:46 INFO [inventory-api:AuthService]: User authenticated successfully: newsupervisor@example.com 
2025-04-17 12:18:02 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:18:02 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 12:18:02 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: admin@inventory-system.com 
2025-04-17 12:18:03 INFO [inventory-api:AuthService]: User authenticated successfully: admin@inventory-system.com 
2025-04-17 12:18:45 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:18:45 INFO [inventory-api:UsersController]: getUserProfile called for user newsupervisor (ID: 6800c58f840ba03674946827) 
2025-04-17 12:18:45 DEBUG [inventory-api:UsersService]: getUserByIdService called with ID: 6800c58f840ba03674946827 
2025-04-17 12:19:19 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:19:20 WARN [inventory-api:Middleware:Auth]: Access denied for user USR-00015 with role SUPERVISOR 
2025-04-17 12:19:20 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: AuthError - You do not have permission to access this resource. Required role: ADMIN or MANAGER 
2025-04-17 12:19:50 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:19:50 WARN [inventory-api:Middleware:Auth]: Access denied for user USR-00015 with role SUPERVISOR 
2025-04-17 12:19:50 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: AuthError - You do not have permission to access this resource. Required role: ADMIN or MANAGER 
2025-04-17 12:20:00 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:20:01 INFO [inventory-api:UsersController]: getAllUsers called 
2025-04-17 12:20:01 DEBUG [inventory-api:UsersService]: getAllUsersService called with query: 
2025-04-17 12:20:01 DEBUG [inventory-api:APIFeatures]: Built filter: 
2025-04-17 12:20:01 DEBUG [inventory-api:UsersController]: Query parameters: 
2025-04-17 12:20:28 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:20:28 INFO [inventory-api:UsersController]: searchUsers called with term: jakom 
2025-04-17 12:20:28 DEBUG [inventory-api:UsersService]: searchUsersService called with term: jakom 
2025-04-17 12:21:05 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:21:06 INFO [inventory-api:UsersController]: getUserByUsername called with username: jakom 
2025-04-17 12:21:12 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:21:13 INFO [inventory-api:UsersController]: getUserById called with ID: undefined 
2025-04-17 12:21:13 DEBUG [inventory-api:UsersService]: getUserByIdService called with ID: 67ffb16c3aa8bfc49a5dd1f7 
2025-04-17 12:21:13 DEBUG [inventory-api:UsersController]: Request body: 
2025-04-17 12:21:21 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:21:22 WARN [inventory-api:Middleware:Auth]: Access denied for user USR-00012 with role MANAGER 
2025-04-17 12:21:22 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: AuthError - You do not have permission to access this resource. Required role: ADMIN 
2025-04-17 12:21:39 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:21:39 INFO [inventory-api:UsersController]: getAllUsers called 
2025-04-17 12:21:39 DEBUG [inventory-api:UsersService]: getAllUsersService called with query: 
2025-04-17 12:21:39 DEBUG [inventory-api:APIFeatures]: Built filter: 
2025-04-17 12:21:39 DEBUG [inventory-api:UsersController]: Query parameters: 
2025-04-17 12:21:49 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:21:50 INFO [inventory-api:UsersController]: getUsersByRole called with role: USER 
2025-04-17 12:21:50 DEBUG [inventory-api:UsersService]: getUsersByRoleService called with role: USER 
2025-04-17 12:21:54 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:21:54 INFO [inventory-api:UsersController]: getUsersByRole called with role: SUPERVISOR 
2025-04-17 12:21:54 DEBUG [inventory-api:UsersService]: getUsersByRoleService called with role: SUPERVISOR 
2025-04-17 12:22:12 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:22:13 INFO [inventory-api:UsersController]: createUser called 
2025-04-17 12:22:13 DEBUG [inventory-api:UserUtils]: Generating userID 
2025-04-17 12:22:13 DEBUG [inventory-api:UsersController]: Request body: 
2025-04-17 12:22:13 DEBUG [inventory-api:UserService:createUser]: Creating new user 
2025-04-17 12:22:13 DEBUG [inventory-api:UserUtils]: Generated userID: USR-00016 
2025-04-17 12:22:13 DEBUG [inventory-api:UserService:createUser]: Generated userID: USR-00016 
2025-04-17 12:22:14 INFO [inventory-api:UserService:createUser]: User created successfully: newtestuser (newtest@example.com) 
2025-04-17 12:22:44 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:22:44 INFO [inventory-api:UsersController]: getAllUsers called 
2025-04-17 12:22:44 DEBUG [inventory-api:UsersService]: getAllUsersService called with query: 
2025-04-17 12:22:44 DEBUG [inventory-api:APIFeatures]: Built filter: 
2025-04-17 12:22:44 DEBUG [inventory-api:UsersController]: Query parameters: 
2025-04-17 12:23:05 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:23:05 INFO [inventory-api:UsersController]: getAllUsers called 
2025-04-17 12:23:05 DEBUG [inventory-api:UsersService]: getAllUsersService called with query: 
2025-04-17 12:23:06 DEBUG [inventory-api:APIFeatures]: Built filter: 
2025-04-17 12:23:05 DEBUG [inventory-api:UsersController]: Query parameters: 
2025-04-17 12:23:24 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:23:25 INFO [inventory-api:UsersController]: createUser called 
2025-04-17 12:23:25 DEBUG [inventory-api:UserUtils]: Generating userID 
2025-04-17 12:23:25 DEBUG [inventory-api:UsersController]: Request body: 
2025-04-17 12:23:25 DEBUG [inventory-api:UserService:createUser]: Creating new user 
2025-04-17 12:23:25 DEBUG [inventory-api:UserUtils]: Generated userID: USR-00017 
2025-04-17 12:23:25 DEBUG [inventory-api:UserService:createUser]: Generated userID: USR-00017 
2025-04-17 12:23:26 INFO [inventory-api:UserService:createUser]: User created successfully: newadmin2 (newadmin2@example.com) 
2025-04-17 12:23:40 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:23:41 INFO [inventory-api:UsersController]: getUsersByRole called with role: MANAGER 
2025-04-17 12:23:41 DEBUG [inventory-api:UsersService]: getUsersByRoleService called with role: MANAGER 
2025-04-17 12:23:46 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:23:47 INFO [inventory-api:UsersController]: searchUsers called with term: new 
2025-04-17 12:23:47 DEBUG [inventory-api:UsersService]: searchUsersService called with term: new 
2025-04-17 12:24:12 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:24:12 INFO [inventory-api:UsersController]: getUserById called with ID: undefined 
2025-04-17 12:24:12 DEBUG [inventory-api:UsersService]: getUserByIdService called with ID: 67fe328ec5f008d6579a6eb4 
2025-04-17 12:24:12 DEBUG [inventory-api:UsersController]: Request body: 
2025-04-17 12:26:56 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:26:56 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 12:26:56 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: olwalgeorge15@gmail.com 
2025-04-17 12:26:57 ERROR [inventory-api:AuthController]: Error in login controller: Invalid email or password 
AuthError: Invalid email or password
    at AuthError.invalidCredentials (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\utils\errors.js:149:12)
    at authenticateUserService (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\services\auth.service.js:203:23)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\controllers\auth.controller.js:67:18
2025-04-17 12:26:57 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: AuthError - Invalid email or password 
2025-04-17 12:28:11 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:28:11 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 12:28:11 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: olwalgeorge15@gmail.com 
2025-04-17 12:28:12 ERROR [inventory-api:AuthController]: Error in login controller: Invalid email or password 
AuthError: Invalid email or password
    at AuthError.invalidCredentials (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\utils\errors.js:149:12)
    at authenticateUserService (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\services\auth.service.js:203:23)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\controllers\auth.controller.js:67:18
2025-04-17 12:28:12 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: AuthError - Invalid email or password 
2025-04-17 12:28:25 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:28:25 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 12:28:25 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: olwalgeorge15@gmail.com 
2025-04-17 12:28:28 ERROR [inventory-api:AuthController]: Error in login controller: Invalid email or password 
AuthError: Invalid email or password
    at AuthError.invalidCredentials (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\utils\errors.js:149:12)
    at authenticateUserService (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\services\auth.service.js:203:23)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\controllers\auth.controller.js:67:18
2025-04-17 12:28:28 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: AuthError - Invalid email or password 
2025-04-17 12:29:40 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:29:40 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 12:29:40 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: nonexistent@example.com 
2025-04-17 12:29:40 ERROR [inventory-api:AuthController]: Error in login controller: Invalid email or password 
AuthError: Invalid email or password
    at AuthError.invalidCredentials (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\utils\errors.js:149:12)
    at authenticateUserService (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\services\auth.service.js:174:23)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\controllers\auth.controller.js:67:18
2025-04-17 12:29:40 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: AuthError - Invalid email or password 
2025-04-17 12:30:27 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:30:27 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 12:30:27 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: olwalgeorge15@gmail.com 
2025-04-17 12:30:27 WARN [inventory-api:AuthService]: Account locked for email: olwalgeorge15@gmail.com 
2025-04-17 12:30:27 ERROR [inventory-api:AuthController]: Error in login controller: Invalid email or password 
AuthError: Invalid email or password
    at AuthError.invalidCredentials (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\utils\errors.js:149:12)
    at authenticateUserService (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\services\auth.service.js:203:23)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\controllers\auth.controller.js:67:18
2025-04-17 12:30:27 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: AuthError - Invalid email or password 
2025-04-17 12:30:30 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:30:30 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 12:30:30 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: nonexistent@example.com 
2025-04-17 12:30:30 ERROR [inventory-api:AuthController]: Error in login controller: Invalid email or password 
AuthError: Invalid email or password
    at AuthError.invalidCredentials (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\utils\errors.js:149:12)
    at authenticateUserService (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\services\auth.service.js:174:23)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\controllers\auth.controller.js:67:18
2025-04-17 12:30:30 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: AuthError - Invalid email or password 
2025-04-17 12:30:37 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:30:37 WARN [inventory-api:ValidationMiddleware]: Validation failed 
2025-04-17 12:30:37 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: ValidationError - Validation failed for field: password 
2025-04-17 12:30:53 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:30:53 WARN [inventory-api:ValidationMiddleware]: Validation failed 
2025-04-17 12:30:53 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: ValidationError - Validation failed for field: password 
2025-04-17 12:34:18 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:34:18 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 12:34:18 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: olwalgeorge15@gmail.com 
2025-04-17 12:34:18 ERROR [inventory-api:AuthController]: Error in login controller: Your account is locked until 4/17/2025, 1:00:27 PM 
AuthError: Your account is locked until 4/17/2025, 1:00:27 PM
    at AuthError.unauthorized (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\utils\errors.js:139:12)
    at authenticateUserService (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\services\auth.service.js:184:23)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\controllers\auth.controller.js:67:18
2025-04-17 12:34:18 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: AuthError - Your account is locked until 4/17/2025, 1:00:27 PM 
2025-04-17 12:39:14 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:39:14 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 12:39:14 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: newadmin@example.com 
2025-04-17 12:39:14 INFO [inventory-api:AuthService]: User authenticated successfully: newadmin@example.com 
2025-04-17 12:40:01 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:40:01 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 12:40:01 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: admin@inventory-system.com 
2025-04-17 12:40:02 INFO [inventory-api:AuthService]: User authenticated successfully: admin@inventory-system.com 
2025-04-17 12:40:51 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:41:04 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:44:30 INFO [inventory-api:Server]: SIGINT signal received, shutting down gracefully 
2025-04-17 12:44:30 INFO [inventory-api:Database]: Closing MongoDB connection due to server shutdown 
2025-04-17 12:44:35 DEBUG [inventory-api:TokenModel]: Fixed duplicate indexes in Token schema: 
2025-04-17 12:44:35 INFO [inventory-api:EnvValidator]: =============== ENVIRONMENT SUMMARY =============== 
2025-04-17 12:44:35 INFO [inventory-api:Passport]: GitHub authentication strategy initialized successfully 
2025-04-17 12:44:35 INFO [inventory-api:EnvValidator]: Environment: DEVELOPMENT 
2025-04-17 12:44:35 INFO [inventory-api:EnvValidator]: Port: 3000 
2025-04-17 12:44:35 INFO [inventory-api:EnvValidator]: Database: mongodb+srv://ol****:********@cluster0.wncfx.mongodb.net/team_14_final_project?retryWrites=true&w=majority&appName=Cluster0 
2025-04-17 12:44:35 INFO [inventory-api:EnvValidator]: ------- Features Status ------- 
2025-04-17 12:44:35 INFO [inventory-api:EnvValidator]: githubOAuth: Enabled ✅ 
2025-04-17 12:44:35 INFO [inventory-api:EnvValidator]: =============================================== 
2025-04-17 12:44:35 INFO [inventory-api:Server]: MongoDB connected successfully 
2025-04-17 12:44:38 INFO [inventory-api:Database]: MongoDB Connected: cluster0-shard-00-00.wncfx.mongodb.net 
2025-04-17 12:44:38 INFO [inventory-api:InitUtils]: SUPERADMIN account already exists. Skipping initialization. 
2025-04-17 12:44:38 INFO [inventory-api:Server]: Server running on http://localhost:3000 in development mode 
2025-04-17 12:44:38 INFO [inventory-api:Server]: API Documentation: http://localhost:3000/api-docs 
2025-04-17 12:46:39 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:46:40 WARN [inventory-api:ValidationMiddleware]: Validation failed 
2025-04-17 12:46:40 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: ValidationError - Validation failed for field: user_Id 
2025-04-17 12:47:24 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:47:24 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 12:47:24 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: newadmin@example.com 
2025-04-17 12:47:24 INFO [inventory-api:AuthService]: User authenticated successfully: newadmin@example.com 
2025-04-17 12:47:28 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:47:28 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 12:47:28 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: newadmin@example.com 
2025-04-17 12:47:29 INFO [inventory-api:AuthService]: User authenticated successfully: newadmin@example.com 
2025-04-17 12:47:30 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:47:30 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 12:47:30 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: newadmin@example.com 
2025-04-17 12:47:30 INFO [inventory-api:AuthService]: User authenticated successfully: newadmin@example.com 
2025-04-17 12:47:31 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:47:31 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 12:47:31 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: newadmin@example.com 
2025-04-17 12:47:31 INFO [inventory-api:AuthService]: User authenticated successfully: newadmin@example.com 
2025-04-17 12:47:32 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:47:32 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 12:47:32 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: newadmin@example.com 
2025-04-17 12:47:33 INFO [inventory-api:AuthService]: User authenticated successfully: newadmin@example.com 
2025-04-17 12:47:34 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:47:34 WARN [inventory-api:RateLimitMiddleware]: Rate limit exceeded for IP: ::ffff:127.0.0.1 
2025-04-17 12:47:34 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: ApiError - Too many requests, please try again later. 
2025-04-17 12:47:57 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:47:57 WARN [inventory-api:RateLimitMiddleware]: Rate limit exceeded for IP: ::ffff:127.0.0.1 
2025-04-17 12:47:57 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: ApiError - Too many requests, please try again later. 
2025-04-17 12:48:05 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:48:05 WARN [inventory-api:RateLimitMiddleware]: Rate limit exceeded for IP: ::ffff:127.0.0.1 
2025-04-17 12:48:05 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: ApiError - Too many requests, please try again later. 
2025-04-17 12:48:07 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:48:07 WARN [inventory-api:RateLimitMiddleware]: Rate limit exceeded for IP: ::ffff:127.0.0.1 
2025-04-17 12:48:07 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: ApiError - Too many requests, please try again later. 
2025-04-17 12:48:57 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:48:57 WARN [inventory-api:Auth:JWT]: Invalid JWT format: 
2025-04-17 12:48:57 ERROR [inventory-api:Middleware:Auth]: Authentication error: Invalid authentication token 
AuthError: Invalid authentication token
    at AuthError.unauthorized (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\utils\errors.js:139:12)
    at verifyToken (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\auth\jwt.js:80:23)
    at authenticate (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\middlewares\auth.middleware.js:31:27)
    at Layer.handle [as handle_request] (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\express\lib\router\index.js:284:15
    at param (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\express\lib\router\index.js:365:14)
    at param (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\express\lib\router\index.js:376:14)
2025-04-17 12:48:57 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: AuthError - Authentication failed. 
2025-04-17 12:49:08 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:49:08 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 12:49:08 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: admin@inventory-system.com 
2025-04-17 12:49:09 INFO [inventory-api:AuthService]: User authenticated successfully: admin@inventory-system.com 
2025-04-17 12:49:18 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:49:18 WARN [inventory-api:Auth:JWT]: Invalid JWT format: 
2025-04-17 12:49:18 ERROR [inventory-api:Middleware:Auth]: Authentication error: Invalid authentication token 
AuthError: Invalid authentication token
    at AuthError.unauthorized (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\utils\errors.js:139:12)
    at verifyToken (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\auth\jwt.js:80:23)
    at authenticate (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\middlewares\auth.middleware.js:31:27)
    at Layer.handle [as handle_request] (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\express\lib\router\index.js:284:15
    at param (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\express\lib\router\index.js:365:14)
    at param (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\express\lib\router\index.js:376:14)
2025-04-17 12:49:18 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: AuthError - Authentication failed. 
2025-04-17 12:49:55 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:49:55 WARN [inventory-api:ValidationMiddleware]: Validation failed 
2025-04-17 12:49:55 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: ValidationError - Validation failed for field: user_Id 
2025-04-17 12:51:35 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:51:35 INFO [inventory-api:UsersController]: getAllUsers called 
2025-04-17 12:51:35 DEBUG [inventory-api:UsersService]: getAllUsersService called with query: 
2025-04-17 12:51:35 DEBUG [inventory-api:APIFeatures]: Built filter: 
2025-04-17 12:51:35 DEBUG [inventory-api:UsersController]: Query parameters: 
2025-04-17 12:53:21 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:53:22 WARN [inventory-api:ValidationMiddleware]: Validation failed 
2025-04-17 12:53:22 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: ValidationError - Validation failed for field: user_Id 
2025-04-17 12:54:07 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:54:07 WARN [inventory-api:ValidationMiddleware]: Validation failed 
2025-04-17 12:54:07 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: ValidationError - Validation failed for field: user_Id 
2025-04-17 12:55:53 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:55:54 WARN [inventory-api:ValidationMiddleware]: Validation failed 
2025-04-17 12:55:54 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: ValidationError - Validation failed for field: user_Id 
2025-04-17 12:56:30 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:56:31 WARN [inventory-api:ValidationMiddleware]: Validation failed 
2025-04-17 12:56:31 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: ValidationError - Validation failed for field: user_Id 
2025-04-17 12:57:29 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:57:30 WARN [inventory-api:ValidationMiddleware]: Validation failed 
2025-04-17 12:57:30 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: ValidationError - Validation failed for field: user_Id 
2025-04-17 12:57:35 INFO [inventory-api:Server]: SIGINT signal received, shutting down gracefully 
2025-04-17 12:57:35 INFO [inventory-api:Database]: Closing MongoDB connection due to server shutdown 
2025-04-17 12:57:40 DEBUG [inventory-api:TokenModel]: Fixed duplicate indexes in Token schema: 
2025-04-17 12:57:40 INFO [inventory-api:EnvValidator]: =============== ENVIRONMENT SUMMARY =============== 
2025-04-17 12:57:40 INFO [inventory-api:Passport]: GitHub authentication strategy initialized successfully 
2025-04-17 12:57:40 INFO [inventory-api:Server]: MongoDB connected successfully 
2025-04-17 12:57:40 INFO [inventory-api:EnvValidator]: Environment: DEVELOPMENT 
2025-04-17 12:57:40 INFO [inventory-api:EnvValidator]: Port: 3000 
2025-04-17 12:57:40 INFO [inventory-api:EnvValidator]: Database: mongodb+srv://ol****:********@cluster0.wncfx.mongodb.net/team_14_final_project?retryWrites=true&w=majority&appName=Cluster0 
2025-04-17 12:57:40 INFO [inventory-api:EnvValidator]: ------- Features Status ------- 
2025-04-17 12:57:40 INFO [inventory-api:EnvValidator]: githubOAuth: Enabled ✅ 
2025-04-17 12:57:40 INFO [inventory-api:EnvValidator]: =============================================== 
2025-04-17 12:57:43 INFO [inventory-api:Database]: MongoDB Connected: cluster0-shard-00-01.wncfx.mongodb.net 
2025-04-17 12:57:43 INFO [inventory-api:InitUtils]: SUPERADMIN account already exists. Skipping initialization. 
2025-04-17 12:57:43 INFO [inventory-api:Server]: Server running on http://localhost:3000 in development mode 
2025-04-17 12:57:43 INFO [inventory-api:Server]: API Documentation: http://localhost:3000/api-docs 
2025-04-17 12:57:58 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:57:58 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 12:57:58 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: newadmin@example.com 
2025-04-17 12:57:59 INFO [inventory-api:AuthService]: User authenticated successfully: newadmin@example.com 
2025-04-17 12:58:16 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:58:16 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 12:58:16 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: newadmin@example.com 
2025-04-17 12:58:17 INFO [inventory-api:AuthService]: User authenticated successfully: newadmin@example.com 
2025-04-17 12:58:17 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:58:17 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 12:58:17 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: newadmin@example.com 
2025-04-17 12:58:18 INFO [inventory-api:AuthService]: User authenticated successfully: newadmin@example.com 
2025-04-17 12:58:19 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:58:19 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 12:58:19 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: newadmin@example.com 
2025-04-17 12:58:19 INFO [inventory-api:AuthService]: User authenticated successfully: newadmin@example.com 
2025-04-17 12:58:20 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:58:20 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 12:58:20 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: newadmin@example.com 
2025-04-17 12:58:20 INFO [inventory-api:AuthService]: User authenticated successfully: newadmin@example.com 
2025-04-17 12:58:21 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:58:21 WARN [inventory-api:RateLimitMiddleware]: Rate limit exceeded for IP: ::ffff:127.0.0.1 
2025-04-17 12:58:21 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: ApiError - Too many requests, please try again later. 
2025-04-17 12:58:59 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:59:00 INFO [inventory-api:UsersController]: revokeRateLimit called for user: 6800c05d2d53dbd2ed931338 
2025-04-17 12:59:00 DEBUG [inventory-api:UsersService]: getUserByIdService called with ID: 6800c05d2d53dbd2ed931338 
2025-04-17 12:59:00 INFO [inventory-api:UsersController]: Revoking rate limit for IP: 192.168.1.100 
2025-04-17 12:59:36 DEBUG [inventory-api:App]: Session: 
2025-04-17 12:59:36 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 12:59:36 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: newadmin@example.com 
2025-04-17 12:59:37 INFO [inventory-api:AuthService]: User authenticated successfully: newadmin@example.com 
2025-04-17 14:07:14 DEBUG [inventory-api:TokenModel]: Fixed duplicate indexes in Token schema: 
2025-04-17 14:07:15 INFO [inventory-api:EnvValidator]: =============== ENVIRONMENT SUMMARY =============== 
2025-04-17 14:07:14 INFO [inventory-api:Passport]: GitHub authentication strategy initialized successfully 
2025-04-17 14:07:15 INFO [inventory-api:Server]: MongoDB connected successfully 
2025-04-17 14:07:15 INFO [inventory-api:EnvValidator]: Environment: DEVELOPMENT 
2025-04-17 14:07:15 INFO [inventory-api:EnvValidator]: Port: 3000 
2025-04-17 14:07:15 INFO [inventory-api:EnvValidator]: Database: mongodb+srv://ol****:********@cluster0.wncfx.mongodb.net/team_14_final_project?retryWrites=true&w=majority&appName=Cluster0 
2025-04-17 14:07:15 INFO [inventory-api:EnvValidator]: ------- Features Status ------- 
2025-04-17 14:07:15 INFO [inventory-api:EnvValidator]: githubOAuth: Enabled ✅ 
2025-04-17 14:07:15 INFO [inventory-api:EnvValidator]: =============================================== 
2025-04-17 14:07:17 INFO [inventory-api:Database]: MongoDB Connected: cluster0-shard-00-02.wncfx.mongodb.net 
2025-04-17 14:07:17 INFO [inventory-api:InitUtils]: SUPERADMIN account already exists. Skipping initialization. 
2025-04-17 14:07:17 INFO [inventory-api:Server]: Server running on http://localhost:3000 in development mode 
2025-04-17 14:07:17 INFO [inventory-api:Server]: API Documentation: http://localhost:3000/api-docs 
2025-04-17 14:08:39 DEBUG [inventory-api:App]: Session: 
2025-04-17 14:08:49 INFO [inventory-api:Server]: SIGINT signal received, shutting down gracefully 
2025-04-17 14:08:49 INFO [inventory-api:Database]: Closing MongoDB connection due to server shutdown 
2025-04-17 14:08:53 DEBUG [inventory-api:TokenModel]: Fixed duplicate indexes in Token schema: 
2025-04-17 14:08:53 INFO [inventory-api:EnvValidator]: =============== ENVIRONMENT SUMMARY =============== 
2025-04-17 14:08:53 INFO [inventory-api:Passport]: GitHub authentication strategy initialized successfully 
2025-04-17 14:08:53 INFO [inventory-api:EnvValidator]: Environment: DEVELOPMENT 
2025-04-17 14:08:53 INFO [inventory-api:EnvValidator]: Port: 3000 
2025-04-17 14:08:53 INFO [inventory-api:EnvValidator]: Database: mongodb+srv://ol****:********@cluster0.wncfx.mongodb.net/team_14_final_project?retryWrites=true&w=majority&appName=Cluster0 
2025-04-17 14:08:53 INFO [inventory-api:EnvValidator]: ------- Features Status ------- 
2025-04-17 14:08:53 INFO [inventory-api:EnvValidator]: githubOAuth: Enabled ✅ 
2025-04-17 14:08:53 INFO [inventory-api:EnvValidator]: =============================================== 
2025-04-17 14:08:53 INFO [inventory-api:Server]: MongoDB connected successfully 
2025-04-17 14:08:56 INFO [inventory-api:Database]: MongoDB Connected: cluster0-shard-00-00.wncfx.mongodb.net 
2025-04-17 14:08:56 INFO [inventory-api:InitUtils]: SUPERADMIN account already exists. Skipping initialization. 
2025-04-17 14:08:56 INFO [inventory-api:Server]: Server running on http://localhost:3000 in development mode 
2025-04-17 14:08:56 INFO [inventory-api:Server]: API Documentation: http://localhost:3000/api-docs 
2025-04-17 14:08:59 DEBUG [inventory-api:App]: Session: 
2025-04-17 14:09:58 DEBUG [inventory-api:App]: Session: 
2025-04-17 14:09:58 WARN [inventory-api:ValidationMiddleware]: Validation failed 
2025-04-17 14:09:58 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: ValidationError - Validation failed for field: password 
2025-04-17 14:10:20 DEBUG [inventory-api:App]: Session: 
2025-04-17 14:10:20 WARN [inventory-api:ValidationMiddleware]: Validation failed 
2025-04-17 14:10:20 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: ValidationError - Validation failed for field: password 
2025-04-17 14:10:47 DEBUG [inventory-api:App]: Session: 
2025-04-17 14:10:47 INFO [inventory-api:AuthController]: register controller called 
2025-04-17 14:10:47 DEBUG [inventory-api:AuthService]: registerService called with data: 
2025-04-17 14:10:47 DEBUG [inventory-api:AuthService]: Auth service creating user with data: 
2025-04-17 14:10:47 DEBUG [inventory-api:UserUtils]: Generating userID 
2025-04-17 14:10:47 DEBUG [inventory-api:UserUtils]: Generated userID: USR-00021 
2025-04-17 14:10:47 DEBUG [inventory-api:AuthService]: Generated userID: USR-00021 
2025-04-17 14:10:48 INFO [inventory-api:AuthService]: User registered successfully: test2user 
2025-04-17 14:10:59 DEBUG [inventory-api:App]: Session: 
2025-04-17 14:10:59 WARN [inventory-api:ValidationMiddleware]: Validation failed 
2025-04-17 14:10:59 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: ValidationError - Validation failed for field: password 
2025-04-17 14:13:01 DEBUG [inventory-api:App]: Session: 
2025-04-17 14:13:01 INFO [inventory-api:AuthController]: register controller called 
2025-04-17 14:13:01 DEBUG [inventory-api:AuthService]: registerService called with data: 
2025-04-17 14:13:02 DEBUG [inventory-api:AuthService]: Auth service creating user with data: 
2025-04-17 14:13:02 DEBUG [inventory-api:UserUtils]: Generating userID 
2025-04-17 14:13:02 DEBUG [inventory-api:UserUtils]: Generated userID: USR-00022 
2025-04-17 14:13:02 DEBUG [inventory-api:AuthService]: Generated userID: USR-00022 
2025-04-17 14:13:02 INFO [inventory-api:AuthService]: User registered successfully: test3user 
2025-04-17 14:13:40 DEBUG [inventory-api:App]: Session: 
2025-04-17 14:13:40 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 14:13:40 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: test3@example.com 
2025-04-17 14:13:40 INFO [inventory-api:AuthService]: User authenticated successfully: test3@example.com 
2025-04-17 14:13:53 DEBUG [inventory-api:App]: Session: 
2025-04-17 14:14:55 DEBUG [inventory-api:App]: Session: 
2025-04-17 14:14:55 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 14:14:55 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: test3@example.com 
2025-04-17 14:14:56 INFO [inventory-api:AuthService]: User authenticated successfully: test3@example.com 
2025-04-17 14:15:04 DEBUG [inventory-api:App]: Session: 
2025-04-17 14:15:04 WARN [inventory-api:Auth:JWT]: Invalid JWT format: 
2025-04-17 14:15:04 ERROR [inventory-api:Middleware:Auth]: Authentication error: Invalid authentication token 
AuthError: Invalid authentication token
    at AuthError.unauthorized (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\utils\errors.js:139:12)
    at verifyToken (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\auth\jwt.js:80:23)
    at authenticate (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\middlewares\auth.middleware.js:31:27)
    at Layer.handle [as handle_request] (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\express\lib\router\index.js:284:15
    at Function.process_params (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\express\lib\router\index.js:346:12)
    at next (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\express\lib\router\index.js:280:10)
2025-04-17 14:15:04 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: AuthError - Authentication failed. 
2025-04-17 14:16:38 DEBUG [inventory-api:App]: Session: 
2025-04-17 14:16:38 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 14:16:38 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: user@example.com 
2025-04-17 14:16:38 ERROR [inventory-api:AuthController]: Error in login controller: Invalid email or password 
AuthError: Invalid email or password
    at AuthError.invalidCredentials (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\utils\errors.js:149:12)
    at authenticateUserService (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\services\auth.service.js:222:23)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\controllers\auth.controller.js:67:18
2025-04-17 14:16:38 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: AuthError - Invalid email or password 
2025-04-17 14:18:39 DEBUG [inventory-api:App]: Session: 
2025-04-17 14:18:39 INFO [inventory-api:AuthController]: register controller called 
2025-04-17 14:18:39 DEBUG [inventory-api:AuthService]: registerService called with data: 
2025-04-17 14:18:39 DEBUG [inventory-api:AuthService]: Auth service creating user with data: 
2025-04-17 14:18:39 DEBUG [inventory-api:UserUtils]: Generating userID 
2025-04-17 14:18:39 DEBUG [inventory-api:UserUtils]: Generated userID: USR-00023 
2025-04-17 14:18:39 DEBUG [inventory-api:AuthService]: Generated userID: USR-00023 
2025-04-17 14:18:40 INFO [inventory-api:AuthService]: User registered successfully: tompenny 
2025-04-17 14:18:50 DEBUG [inventory-api:App]: Session: 
2025-04-17 14:18:50 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 14:18:50 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: tom.penny@example.com 
2025-04-17 14:18:51 INFO [inventory-api:AuthService]: User authenticated successfully: tom.penny@example.com 
2025-04-17 14:20:17 DEBUG [inventory-api:App]: Session: 
2025-04-17 14:20:17 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 14:20:17 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: tom.penny@example.com 
2025-04-17 14:20:18 INFO [inventory-api:AuthService]: User authenticated successfully: tom.penny@example.com 
2025-04-17 14:20:34 DEBUG [inventory-api:App]: Session: 
2025-04-17 14:20:34 WARN [inventory-api:Auth:JWT]: Invalid JWT format: 
2025-04-17 14:20:34 ERROR [inventory-api:Middleware:Auth]: Authentication error: Invalid authentication token 
AuthError: Invalid authentication token
    at AuthError.unauthorized (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\utils\errors.js:139:12)
    at verifyToken (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\auth\jwt.js:80:23)
    at authenticate (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\middlewares\auth.middleware.js:31:27)
    at Layer.handle [as handle_request] (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\express\lib\router\route.js:149:13)
    at Route.dispatch (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\express\lib\router\route.js:119:3)
    at Layer.handle [as handle_request] (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\express\lib\router\layer.js:95:5)
    at C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\express\lib\router\index.js:284:15
    at Function.process_params (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\express\lib\router\index.js:346:12)
    at next (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\node_modules\express\lib\router\index.js:280:10)
2025-04-17 14:20:34 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: AuthError - Authentication failed. 
2025-04-17 14:23:01 DEBUG [inventory-api:App]: Session: 
2025-04-17 14:23:02 WARN [inventory-api:ValidationMiddleware]: Validation failed 
2025-04-17 14:23:02 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: ValidationError - Validation failed for field: username 
2025-04-17 14:24:22 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: SyntaxError - Expected double-quoted property name in JSON at position 122 (line 6 column 1) 
2025-04-17 14:24:28 DEBUG [inventory-api:App]: Session: 
2025-04-17 14:24:29 WARN [inventory-api:ValidationMiddleware]: Validation failed 
2025-04-17 14:24:29 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: ValidationError - Validation failed for field: email 
2025-04-17 14:24:53 DEBUG [inventory-api:App]: Session: 
2025-04-17 14:24:53 INFO [inventory-api:AuthController]: register controller called 
2025-04-17 14:24:53 DEBUG [inventory-api:AuthService]: registerService called with data: 
2025-04-17 14:24:53 DEBUG [inventory-api:AuthService]: Auth service creating user with data: 
2025-04-17 14:24:53 DEBUG [inventory-api:UserUtils]: Generating userID 
2025-04-17 14:24:53 DEBUG [inventory-api:UserUtils]: Generated userID: USR-00024 
2025-04-17 14:24:53 DEBUG [inventory-api:AuthService]: Generated userID: USR-00024 
2025-04-17 14:24:54 INFO [inventory-api:AuthService]: User registered successfully: test4user 
2025-04-17 14:25:01 DEBUG [inventory-api:App]: Session: 
2025-04-17 14:25:01 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 14:25:01 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: test4@example.com 
2025-04-17 14:25:02 INFO [inventory-api:AuthService]: User authenticated successfully: test4@example.com 
2025-04-17 14:29:43 DEBUG [inventory-api:App]: Session: 
2025-04-17 14:29:43 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 14:29:43 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: olwalgeorge15@gmail.com 
2025-04-17 14:29:43 WARN [inventory-api:AuthService]: Account locked for email: olwalgeorge15@gmail.com 
2025-04-17 14:29:44 ERROR [inventory-api:AuthController]: Error in login controller: Invalid email or password 
AuthError: Invalid email or password
    at AuthError.invalidCredentials (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\utils\errors.js:149:12)
    at authenticateUserService (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\services\auth.service.js:251:23)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\controllers\auth.controller.js:67:18
2025-04-17 14:29:44 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: AuthError - Invalid email or password 
2025-04-17 14:29:52 DEBUG [inventory-api:App]: Session: 
2025-04-17 14:29:52 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 14:29:52 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: newadmin@example.com 
2025-04-17 14:29:52 INFO [inventory-api:AuthService]: User authenticated successfully: newadmin@example.com 
2025-04-17 14:30:44 DEBUG [inventory-api:App]: Session: 
2025-04-17 14:30:44 INFO [inventory-api:UsersController]: getAllUsers called 
2025-04-17 14:30:44 DEBUG [inventory-api:UsersService]: getAllUsersService called with query: 
2025-04-17 14:30:44 DEBUG [inventory-api:APIFeatures]: Built filter: 
2025-04-17 14:30:44 DEBUG [inventory-api:UsersController]: Query parameters: 
2025-04-17 14:35:32 DEBUG [inventory-api:App]: Session: 
2025-04-17 14:35:32 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 14:35:32 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: olwalgeorge15@gmail.com 
2025-04-17 14:35:33 ERROR [inventory-api:AuthController]: Error in login controller: Your account is locked until 4/17/2025, 2:59:43 PM 
AuthError: Your account is locked until 4/17/2025, 2:59:43 PM
    at AuthError.unauthorized (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\utils\errors.js:139:12)
    at authenticateUserService (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\services\auth.service.js:232:23)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\controllers\auth.controller.js:67:18
2025-04-17 14:35:33 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: AuthError - Your account is locked until 4/17/2025, 2:59:43 PM 
2025-04-17 14:41:06 DEBUG [inventory-api:App]: Session: 
2025-04-17 14:41:06 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 14:41:06 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: newadmin@example.com 
2025-04-17 14:41:07 INFO [inventory-api:AuthService]: User authenticated successfully: newadmin@example.com 
2025-04-17 14:42:36 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: SyntaxError - Expected double-quoted property name in JSON at position 125 (line 7 column 3) 
2025-04-17 14:42:43 DEBUG [inventory-api:App]: Session: 
2025-04-17 14:42:43 WARN [inventory-api:ValidationMiddleware]: Validation failed 
2025-04-17 14:42:43 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: ValidationError - Validation failed for field: fullName 
2025-04-17 14:43:25 DEBUG [inventory-api:App]: Session: 
2025-04-17 14:43:25 WARN [inventory-api:ValidationMiddleware]: Validation failed 
2025-04-17 14:43:25 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: ValidationError - Validation failed for field: email 
2025-04-17 14:43:48 DEBUG [inventory-api:App]: Session: 
2025-04-17 14:43:49 INFO [inventory-api:AuthController]: register controller called 
2025-04-17 14:43:49 DEBUG [inventory-api:AuthService]: registerService called with data: 
2025-04-17 14:43:49 DEBUG [inventory-api:AuthService]: Auth service creating user with data: 
2025-04-17 14:43:49 DEBUG [inventory-api:UserUtils]: Generating userID 
2025-04-17 14:43:49 DEBUG [inventory-api:UserUtils]: Generated userID: USR-00025 
2025-04-17 14:43:49 DEBUG [inventory-api:AuthService]: Generated userID: USR-00025 
2025-04-17 14:43:50 INFO [inventory-api:AuthService]: User registered successfully: johndoe 
2025-04-17 14:44:01 DEBUG [inventory-api:App]: Session: 
2025-04-17 14:44:01 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 14:44:01 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: newuser5@example.com 
2025-04-17 14:44:02 INFO [inventory-api:AuthService]: User authenticated successfully: newuser5@example.com 
2025-04-17 14:44:28 DEBUG [inventory-api:App]: Session: 
2025-04-17 14:44:38 DEBUG [inventory-api:App]: Session: 
2025-04-17 14:44:39 INFO [inventory-api:UsersController]: getUserProfile called for user johndoe (ID: 6800e9757e11672dfdb0a01e) 
2025-04-17 14:44:39 DEBUG [inventory-api:UsersService]: getUserByIdService called with ID: 6800e9757e11672dfdb0a01e 
2025-04-17 14:46:28 DEBUG [inventory-api:App]: Session: 
2025-04-17 14:46:41 DEBUG [inventory-api:App]: Session: 
2025-04-17 14:46:41 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 14:46:41 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: newuser5@example.com 
2025-04-17 14:46:41 INFO [inventory-api:AuthService]: User authenticated successfully: newuser5@example.com 
2025-04-17 14:50:20 DEBUG [inventory-api:App]: Session: 
2025-04-17 14:50:20 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 14:50:20 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: newuser5@example.com 
2025-04-17 14:50:21 INFO [inventory-api:AuthService]: User authenticated successfully: newuser5@example.com 
2025-04-17 14:50:28 DEBUG [inventory-api:App]: Session: 
2025-04-17 14:50:28 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 14:50:28 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: newuser5@example.com 
2025-04-17 14:50:29 INFO [inventory-api:AuthService]: User authenticated successfully: newuser5@example.com 
2025-04-17 14:56:03 DEBUG [inventory-api:App]: Session: 
2025-04-17 14:56:03 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 14:56:03 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: newuser5@example.com 
2025-04-17 14:56:03 INFO [inventory-api:AuthService]: User authenticated successfully: newuser5@example.com 
2025-04-17 14:56:10 DEBUG [inventory-api:App]: Session: 
2025-04-17 14:56:32 DEBUG [inventory-api:App]: Session: 
2025-04-17 14:56:33 INFO [inventory-api:UsersController]: getUserProfile called for user johndoe (ID: 6800e9757e11672dfdb0a01e) 
2025-04-17 14:56:33 DEBUG [inventory-api:UsersService]: getUserByIdService called with ID: 6800e9757e11672dfdb0a01e 
2025-04-17 14:56:44 DEBUG [inventory-api:App]: Session: 
2025-04-17 14:56:44 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 14:56:44 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: olwalgeorge15@gmail.com 
2025-04-17 14:56:44 ERROR [inventory-api:AuthController]: Error in login controller: Your account is locked until 4/17/2025, 2:59:43 PM 
AuthError: Your account is locked until 4/17/2025, 2:59:43 PM
    at AuthError.unauthorized (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\utils\errors.js:139:12)
    at authenticateUserService (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\services\auth.service.js:232:23)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\controllers\auth.controller.js:67:18
2025-04-17 14:56:44 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: AuthError - Your account is locked until 4/17/2025, 2:59:43 PM 
2025-04-17 14:59:25 DEBUG [inventory-api:App]: Session: 
2025-04-17 14:59:25 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 14:59:25 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: admin@inventory-system.com 
2025-04-17 14:59:26 INFO [inventory-api:AuthService]: User authenticated successfully: admin@inventory-system.com 
2025-04-17 14:59:50 DEBUG [inventory-api:App]: Session: 
2025-04-17 14:59:56 DEBUG [inventory-api:App]: Session: 
2025-04-17 14:59:57 INFO [inventory-api:UsersController]: getUserProfile called for user systemadmin (ID: 6800aded707777d5a69e2670) 
2025-04-17 14:59:57 DEBUG [inventory-api:UsersService]: getUserByIdService called with ID: 6800aded707777d5a69e2670 
2025-04-17 15:00:05 DEBUG [inventory-api:App]: Session: 
2025-04-17 15:00:05 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 15:00:05 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: olwalgeorge15@gmail.com 
2025-04-17 15:00:06 INFO [inventory-api:AuthService]: User authenticated successfully: olwalgeorge15@gmail.com 
2025-04-17 15:03:05 DEBUG [inventory-api:App]: Session: 
2025-04-17 15:03:05 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 15:03:05 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: admin@inventory-system.com 
2025-04-17 15:03:06 INFO [inventory-api:AuthService]: User authenticated successfully: admin@inventory-system.com 
2025-04-17 15:03:16 DEBUG [inventory-api:App]: Session: 
2025-04-17 15:03:20 DEBUG [inventory-api:App]: Session: 
2025-04-17 15:03:21 INFO [inventory-api:UsersController]: getUserProfile called for user systemadmin (ID: 6800aded707777d5a69e2670) 
2025-04-17 15:03:21 DEBUG [inventory-api:UsersService]: getUserByIdService called with ID: 6800aded707777d5a69e2670 
2025-04-17 15:04:24 DEBUG [inventory-api:App]: Session: 
2025-04-17 15:04:24 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 15:04:24 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: admin@inventory-system.com 
2025-04-17 15:04:24 INFO [inventory-api:AuthService]: User authenticated successfully: admin@inventory-system.com 
2025-04-17 15:04:56 DEBUG [inventory-api:App]: Session: 
2025-04-17 15:04:56 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 15:04:56 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: admin@inventory-system.com 
2025-04-17 15:04:57 INFO [inventory-api:AuthService]: User authenticated successfully: admin@inventory-system.com 
2025-04-17 15:07:36 DEBUG [inventory-api:App]: Session: 
2025-04-17 15:07:43 DEBUG [inventory-api:App]: Session: 
2025-04-17 15:07:44 INFO [inventory-api:UsersController]: getUserProfile called for user systemadmin (ID: 6800aded707777d5a69e2670) 
2025-04-17 15:07:44 DEBUG [inventory-api:UsersService]: getUserByIdService called with ID: 6800aded707777d5a69e2670 
2025-04-17 15:07:50 DEBUG [inventory-api:App]: Session: 
2025-04-17 15:08:06 DEBUG [inventory-api:App]: Session: 
2025-04-17 15:08:06 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 15:08:06 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: admin@inventory-system.com 
2025-04-17 15:08:07 INFO [inventory-api:AuthService]: User authenticated successfully: admin@inventory-system.com 
2025-04-17 15:10:15 DEBUG [inventory-api:App]: Session: 
2025-04-17 15:10:15 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 15:10:15 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: admin@inventory-system.com 
2025-04-17 15:10:16 INFO [inventory-api:AuthService]: User authenticated successfully: admin@inventory-system.com 
2025-04-17 15:16:13 INFO [inventory-api:Server]: SIGINT signal received, shutting down gracefully 
2025-04-17 15:16:13 INFO [inventory-api:Database]: Closing MongoDB connection due to server shutdown 
2025-04-17 15:16:18 DEBUG [inventory-api:TokenModel]: Fixed duplicate indexes in Token schema: 
2025-04-17 15:16:19 INFO [inventory-api:EnvValidator]: =============== ENVIRONMENT SUMMARY =============== 
2025-04-17 15:16:19 INFO [inventory-api:Passport]: GitHub authentication strategy initialized successfully 
2025-04-17 15:16:19 INFO [inventory-api:Server]: MongoDB connected successfully 
2025-04-17 15:16:19 INFO [inventory-api:EnvValidator]: Environment: DEVELOPMENT 
2025-04-17 15:16:19 INFO [inventory-api:EnvValidator]: Port: 3000 
2025-04-17 15:16:19 INFO [inventory-api:EnvValidator]: Database: mongodb+srv://ol****:********@cluster0.wncfx.mongodb.net/team_14_final_project?retryWrites=true&w=majority&appName=Cluster0 
2025-04-17 15:16:19 INFO [inventory-api:EnvValidator]: ------- Features Status ------- 
2025-04-17 15:16:19 INFO [inventory-api:EnvValidator]: githubOAuth: Enabled ✅ 
2025-04-17 15:16:19 INFO [inventory-api:EnvValidator]: =============================================== 
2025-04-17 15:16:21 INFO [inventory-api:Database]: MongoDB Connected: cluster0-shard-00-00.wncfx.mongodb.net 
2025-04-17 15:16:22 INFO [inventory-api:InitUtils]: SUPERADMIN account already exists. Skipping initialization. 
2025-04-17 15:16:22 INFO [inventory-api:Server]: Server running on http://localhost:3000 in development mode 
2025-04-17 15:16:22 INFO [inventory-api:Server]: API Documentation: http://localhost:3000/api-docs 
2025-04-17 15:19:17 DEBUG [inventory-api:App]: Session: 
2025-04-17 15:19:17 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 15:19:17 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: admin@inventory-system.com 
2025-04-17 15:19:18 INFO [inventory-api:AuthService]: User authenticated successfully: admin@inventory-system.com 
2025-04-17 15:19:27 DEBUG [inventory-api:App]: Session: 
2025-04-17 15:19:38 DEBUG [inventory-api:App]: Session: 
2025-04-17 15:19:39 INFO [inventory-api:UsersController]: getUserProfile called for user systemadmin (ID: 6800aded707777d5a69e2670) 
2025-04-17 15:19:39 DEBUG [inventory-api:UsersService]: getUserByIdService called with ID: 6800aded707777d5a69e2670 
2025-04-17 15:19:53 DEBUG [inventory-api:App]: Session: 
2025-04-17 15:20:11 DEBUG [inventory-api:App]: Session: 
2025-04-17 15:20:11 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 15:20:12 INFO [inventory-api:AuthController]: User admin@inventory-system.com attempted login while already having a valid token 
2025-04-17 15:20:30 DEBUG [inventory-api:App]: Session: 
2025-04-17 15:20:30 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 15:20:31 INFO [inventory-api:AuthController]: User admin@inventory-system.com attempted login while already having a valid token 
2025-04-17 15:21:14 DEBUG [inventory-api:App]: Session: 
2025-04-17 15:21:14 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 15:21:14 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: admin@inventory-system.com 
2025-04-17 15:21:14 INFO [inventory-api:AuthService]: User authenticated successfully: admin@inventory-system.com 
2025-04-17 15:21:40 DEBUG [inventory-api:App]: Session: 
2025-04-17 15:24:34 DEBUG [inventory-api:App]: Session: 
2025-04-17 15:24:44 DEBUG [inventory-api:App]: Session: 
2025-04-17 15:24:45 INFO [inventory-api:UsersController]: getUserProfile called for user systemadmin (ID: 6800aded707777d5a69e2670) 
2025-04-17 15:24:45 DEBUG [inventory-api:UsersService]: getUserByIdService called with ID: 6800aded707777d5a69e2670 
2025-04-17 15:24:56 DEBUG [inventory-api:App]: Session: 
2025-04-17 15:24:57 INFO [inventory-api:TokenModel]: Token blacklisted for user 6800aded707777d5a69e2670 
2025-04-17 15:24:57 INFO [inventory-api:AuthController]: Token blacklisted for user 6800aded707777d5a69e2670 
2025-04-17 15:25:01 DEBUG [inventory-api:App]: Session: 
2025-04-17 15:25:01 WARN [inventory-api:Auth:JWT]: Token was found in blacklist during verification 
2025-04-17 15:25:01 ERROR [inventory-api:Middleware:Auth]: Authentication error: Token has been revoked. Please log in again. 
AuthError: Token has been revoked. Please log in again.
    at AuthError.unauthorized (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\utils\errors.js:139:12)
    at verifyToken (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\auth\jwt.js:48:23)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async authenticate (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\middlewares\auth.middleware.js:31:21)
2025-04-17 15:25:01 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: AuthError - Authentication failed. 
2025-04-17 16:45:41 DEBUG [inventory-api:TokenModel]: Fixed duplicate indexes in Token schema: 
2025-04-17 16:45:42 INFO [inventory-api:EnvValidator]: =============== ENVIRONMENT SUMMARY =============== 
2025-04-17 16:45:41 INFO [inventory-api:Passport]: GitHub authentication strategy initialized successfully 
2025-04-17 16:45:42 INFO [inventory-api:EnvValidator]: Environment: DEVELOPMENT 
2025-04-17 16:45:42 INFO [inventory-api:EnvValidator]: Port: 3000 
2025-04-17 16:45:42 INFO [inventory-api:EnvValidator]: Database: mongodb+srv://ol****:********@cluster0.wncfx.mongodb.net/team_14_final_project?retryWrites=true&w=majority&appName=Cluster0 
2025-04-17 16:45:42 INFO [inventory-api:EnvValidator]: ------- Features Status ------- 
2025-04-17 16:45:42 INFO [inventory-api:EnvValidator]: githubOAuth: Enabled ✅ 
2025-04-17 16:45:42 INFO [inventory-api:EnvValidator]: =============================================== 
2025-04-17 16:45:42 INFO [inventory-api:Server]: MongoDB connected successfully 
2025-04-17 16:45:46 INFO [inventory-api:Database]: MongoDB Connected: cluster0-shard-00-01.wncfx.mongodb.net 
2025-04-17 16:45:46 INFO [inventory-api:InitUtils]: SUPERADMIN account already exists. Skipping initialization. 
2025-04-17 16:45:46 INFO [inventory-api:Server]: Server running on http://localhost:3000 in development mode 
2025-04-17 16:45:46 INFO [inventory-api:Server]: API Documentation: http://localhost:3000/api-docs 
2025-04-17 16:45:48 DEBUG [inventory-api:App]: Session: 
2025-04-17 16:45:48 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 16:45:48 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: regular@example.com 
2025-04-17 16:45:51 ERROR [inventory-api:AuthController]: Error in login controller: Invalid email or password 
AuthError: Invalid email or password
    at AuthError.invalidCredentials (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\utils\errors.js:149:12)
    at authenticateUserService (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\services\auth.service.js:222:23)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\controllers\auth.controller.js:98:18
2025-04-17 16:45:51 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: AuthError - Invalid email or password 
2025-04-17 16:46:19 DEBUG [inventory-api:App]: Session: 
2025-04-17 16:46:19 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 16:46:19 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: newadmin@example.com 
2025-04-17 16:46:21 INFO [inventory-api:AuthService]: User authenticated successfully: newadmin@example.com 
2025-04-17 16:49:44 DEBUG [inventory-api:App]: Session: 
2025-04-17 16:49:44 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 16:49:44 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: newadmin@example.com 
2025-04-17 16:49:45 INFO [inventory-api:AuthService]: User authenticated successfully: newadmin@example.com 
2025-04-17 16:49:54 DEBUG [inventory-api:App]: Session: 
2025-04-17 16:49:54 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 16:49:54 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: admin@inventory-system.com 
2025-04-17 16:49:55 INFO [inventory-api:AuthService]: User authenticated successfully: admin@inventory-system.com 
2025-04-17 16:50:11 DEBUG [inventory-api:App]: Session: 
2025-04-17 16:50:11 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 16:50:11 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: user@example.com 
2025-04-17 16:50:11 ERROR [inventory-api:AuthController]: Error in login controller: Invalid email or password 
AuthError: Invalid email or password
    at AuthError.invalidCredentials (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\utils\errors.js:149:12)
    at authenticateUserService (C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\services\auth.service.js:222:23)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async C:\Users\PC\OneDrive\Documents\BYU\Pathway\cse341 classwork\week-04\cse341-final-project-team-14\src\controllers\auth.controller.js:98:18
2025-04-17 16:50:11 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: AuthError - Invalid email or password 
2025-04-17 16:53:17 DEBUG [inventory-api:App]: Session: 
2025-04-17 16:53:17 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 16:53:17 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: newuser5@example.com 
2025-04-17 16:53:18 INFO [inventory-api:AuthService]: User authenticated successfully: newuser5@example.com 
2025-04-17 16:53:32 DEBUG [inventory-api:App]: Session: 
2025-04-17 16:53:38 DEBUG [inventory-api:App]: Session: 
2025-04-17 16:53:43 WARN [inventory-api:ValidationMiddleware]: Validation failed 
2025-04-17 16:53:43 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: ValidationError - Validation failed for field: inventory_Id 
2025-04-17 16:53:43 WARN [inventory-api:ValidationMiddleware]: Validation failed 
2025-04-17 16:53:43 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: ValidationError - Validation failed for field: inventory_Id 
2025-04-17 16:54:22 DEBUG [inventory-api:App]: Session: 
2025-04-17 16:54:23 INFO [inventory-api:UsersController]: getUserProfile called for user johndoe (ID: 6800e9757e11672dfdb0a01e) 
2025-04-17 16:54:23 DEBUG [inventory-api:UsersService]: getUserByIdService called with ID: 6800e9757e11672dfdb0a01e 
2025-04-17 16:54:25 DEBUG [inventory-api:App]: Session: 
2025-04-17 16:54:26 INFO [inventory-api:UsersController]: getUserProfile called for user johndoe (ID: 6800e9757e11672dfdb0a01e) 
2025-04-17 16:54:26 DEBUG [inventory-api:UsersService]: getUserByIdService called with ID: 6800e9757e11672dfdb0a01e 
2025-04-17 16:54:27 DEBUG [inventory-api:App]: Session: 
2025-04-17 16:54:28 INFO [inventory-api:UsersController]: getUserProfile called for user johndoe (ID: 6800e9757e11672dfdb0a01e) 
2025-04-17 16:54:28 DEBUG [inventory-api:UsersService]: getUserByIdService called with ID: 6800e9757e11672dfdb0a01e 
2025-04-17 16:54:33 DEBUG [inventory-api:App]: Session: 
2025-04-17 16:54:34 INFO [inventory-api:UsersController]: getUserProfile called for user johndoe (ID: 6800e9757e11672dfdb0a01e) 
2025-04-17 16:54:34 DEBUG [inventory-api:UsersService]: getUserByIdService called with ID: 6800e9757e11672dfdb0a01e 
2025-04-17 16:54:40 DEBUG [inventory-api:App]: Session: 
2025-04-17 16:54:40 DEBUG [inventory-api:App]: Session: 
2025-04-17 16:54:41 INFO [inventory-api:UsersController]: getUserProfile called for user johndoe (ID: 6800e9757e11672dfdb0a01e) 
2025-04-17 16:54:41 DEBUG [inventory-api:UsersService]: getUserByIdService called with ID: 6800e9757e11672dfdb0a01e 
2025-04-17 16:54:41 DEBUG [inventory-api:App]: Session: 
2025-04-17 16:54:41 DEBUG [inventory-api:App]: Session: 
2025-04-17 16:54:41 INFO [inventory-api:UsersController]: getUserProfile called for user johndoe (ID: 6800e9757e11672dfdb0a01e) 
2025-04-17 16:54:41 DEBUG [inventory-api:UsersService]: getUserByIdService called with ID: 6800e9757e11672dfdb0a01e 
2025-04-17 16:54:41 DEBUG [inventory-api:App]: Session: 
2025-04-17 16:54:42 DEBUG [inventory-api:App]: Session: 
2025-04-17 16:54:42 INFO [inventory-api:UsersController]: getUserProfile called for user johndoe (ID: 6800e9757e11672dfdb0a01e) 
2025-04-17 16:54:42 DEBUG [inventory-api:UsersService]: getUserByIdService called with ID: 6800e9757e11672dfdb0a01e 
2025-04-17 16:54:42 DEBUG [inventory-api:App]: Session: 
2025-04-17 16:54:42 INFO [inventory-api:UsersController]: getUserProfile called for user johndoe (ID: 6800e9757e11672dfdb0a01e) 
2025-04-17 16:54:42 DEBUG [inventory-api:UsersService]: getUserByIdService called with ID: 6800e9757e11672dfdb0a01e 
2025-04-17 16:54:42 DEBUG [inventory-api:App]: Session: 
2025-04-17 16:54:42 DEBUG [inventory-api:App]: Session: 
2025-04-17 16:54:42 INFO [inventory-api:UsersController]: getUserProfile called for user johndoe (ID: 6800e9757e11672dfdb0a01e) 
2025-04-17 16:54:42 DEBUG [inventory-api:UsersService]: getUserByIdService called with ID: 6800e9757e11672dfdb0a01e 
2025-04-17 16:54:42 DEBUG [inventory-api:App]: Session: 
2025-04-17 16:54:42 INFO [inventory-api:UsersController]: getUserProfile called for user johndoe (ID: 6800e9757e11672dfdb0a01e) 
2025-04-17 16:54:43 DEBUG [inventory-api:UsersService]: getUserByIdService called with ID: 6800e9757e11672dfdb0a01e 
2025-04-17 16:54:43 DEBUG [inventory-api:App]: Session: 
2025-04-17 16:54:43 INFO [inventory-api:UsersController]: getUserProfile called for user johndoe (ID: 6800e9757e11672dfdb0a01e) 
2025-04-17 16:54:43 DEBUG [inventory-api:UsersService]: getUserByIdService called with ID: 6800e9757e11672dfdb0a01e 
2025-04-17 16:54:43 INFO [inventory-api:UsersController]: getUserProfile called for user johndoe (ID: 6800e9757e11672dfdb0a01e) 
2025-04-17 16:54:43 DEBUG [inventory-api:UsersService]: getUserByIdService called with ID: 6800e9757e11672dfdb0a01e 
2025-04-17 16:54:43 DEBUG [inventory-api:App]: Session: 
2025-04-17 16:54:43 INFO [inventory-api:UsersController]: getUserProfile called for user johndoe (ID: 6800e9757e11672dfdb0a01e) 
2025-04-17 16:54:43 DEBUG [inventory-api:UsersService]: getUserByIdService called with ID: 6800e9757e11672dfdb0a01e 
2025-04-17 16:54:43 INFO [inventory-api:UsersController]: getUserProfile called for user johndoe (ID: 6800e9757e11672dfdb0a01e) 
2025-04-17 16:54:43 DEBUG [inventory-api:UsersService]: getUserByIdService called with ID: 6800e9757e11672dfdb0a01e 
2025-04-17 16:54:43 DEBUG [inventory-api:App]: Session: 
2025-04-17 16:54:43 INFO [inventory-api:UsersController]: getUserProfile called for user johndoe (ID: 6800e9757e11672dfdb0a01e) 
2025-04-17 16:54:43 DEBUG [inventory-api:UsersService]: getUserByIdService called with ID: 6800e9757e11672dfdb0a01e 
2025-04-17 16:54:44 INFO [inventory-api:UsersController]: getUserProfile called for user johndoe (ID: 6800e9757e11672dfdb0a01e) 
2025-04-17 16:54:44 DEBUG [inventory-api:UsersService]: getUserByIdService called with ID: 6800e9757e11672dfdb0a01e 
2025-04-17 16:54:44 DEBUG [inventory-api:App]: Session: 
2025-04-17 16:54:44 INFO [inventory-api:UsersController]: getUserProfile called for user johndoe (ID: 6800e9757e11672dfdb0a01e) 
2025-04-17 16:54:44 DEBUG [inventory-api:UsersService]: getUserByIdService called with ID: 6800e9757e11672dfdb0a01e 
2025-04-17 16:54:44 DEBUG [inventory-api:App]: Session: 
2025-04-17 16:54:45 DEBUG [inventory-api:App]: Session: 
2025-04-17 16:54:45 DEBUG [inventory-api:App]: Session: 
2025-04-17 16:54:45 INFO [inventory-api:UsersController]: getUserProfile called for user johndoe (ID: 6800e9757e11672dfdb0a01e) 
2025-04-17 16:54:45 DEBUG [inventory-api:UsersService]: getUserByIdService called with ID: 6800e9757e11672dfdb0a01e 
2025-04-17 16:54:45 DEBUG [inventory-api:App]: Session: 
2025-04-17 16:54:45 INFO [inventory-api:UsersController]: getUserProfile called for user johndoe (ID: 6800e9757e11672dfdb0a01e) 
2025-04-17 16:54:45 DEBUG [inventory-api:UsersService]: getUserByIdService called with ID: 6800e9757e11672dfdb0a01e 
2025-04-17 16:54:45 DEBUG [inventory-api:App]: Session: 
2025-04-17 16:54:45 INFO [inventory-api:UsersController]: getUserProfile called for user johndoe (ID: 6800e9757e11672dfdb0a01e) 
2025-04-17 16:54:45 DEBUG [inventory-api:UsersService]: getUserByIdService called with ID: 6800e9757e11672dfdb0a01e 
2025-04-17 16:54:46 DEBUG [inventory-api:App]: Session: 
2025-04-17 16:54:46 INFO [inventory-api:UsersController]: getUserProfile called for user johndoe (ID: 6800e9757e11672dfdb0a01e) 
2025-04-17 16:54:46 DEBUG [inventory-api:UsersService]: getUserByIdService called with ID: 6800e9757e11672dfdb0a01e 
2025-04-17 16:54:46 DEBUG [inventory-api:App]: Session: 
2025-04-17 16:54:46 INFO [inventory-api:UsersController]: getUserProfile called for user johndoe (ID: 6800e9757e11672dfdb0a01e) 
2025-04-17 16:54:46 DEBUG [inventory-api:UsersService]: getUserByIdService called with ID: 6800e9757e11672dfdb0a01e 
2025-04-17 16:54:46 DEBUG [inventory-api:App]: Session: 
2025-04-17 16:54:46 INFO [inventory-api:UsersController]: getUserProfile called for user johndoe (ID: 6800e9757e11672dfdb0a01e) 
2025-04-17 16:54:46 DEBUG [inventory-api:UsersService]: getUserByIdService called with ID: 6800e9757e11672dfdb0a01e 
2025-04-17 16:54:46 DEBUG [inventory-api:App]: Session: 
2025-04-17 16:54:46 INFO [inventory-api:UsersController]: getUserProfile called for user johndoe (ID: 6800e9757e11672dfdb0a01e) 
2025-04-17 16:54:46 DEBUG [inventory-api:UsersService]: getUserByIdService called with ID: 6800e9757e11672dfdb0a01e 
2025-04-17 16:54:46 DEBUG [inventory-api:App]: Session: 
2025-04-17 16:54:47 INFO [inventory-api:UsersController]: getUserProfile called for user johndoe (ID: 6800e9757e11672dfdb0a01e) 
2025-04-17 16:54:47 DEBUG [inventory-api:UsersService]: getUserByIdService called with ID: 6800e9757e11672dfdb0a01e 
2025-04-17 16:54:47 DEBUG [inventory-api:App]: Session: 
2025-04-17 16:54:47 INFO [inventory-api:UsersController]: getUserProfile called for user johndoe (ID: 6800e9757e11672dfdb0a01e) 
2025-04-17 16:54:47 DEBUG [inventory-api:UsersService]: getUserByIdService called with ID: 6800e9757e11672dfdb0a01e 
2025-04-17 16:54:47 INFO [inventory-api:UsersController]: getUserProfile called for user johndoe (ID: 6800e9757e11672dfdb0a01e) 
2025-04-17 16:54:47 DEBUG [inventory-api:UsersService]: getUserByIdService called with ID: 6800e9757e11672dfdb0a01e 
2025-04-17 16:54:47 INFO [inventory-api:UsersController]: getUserProfile called for user johndoe (ID: 6800e9757e11672dfdb0a01e) 
2025-04-17 16:54:47 DEBUG [inventory-api:UsersService]: getUserByIdService called with ID: 6800e9757e11672dfdb0a01e 
2025-04-17 16:54:48 INFO [inventory-api:UsersController]: getUserProfile called for user johndoe (ID: 6800e9757e11672dfdb0a01e) 
2025-04-17 16:54:48 DEBUG [inventory-api:UsersService]: getUserByIdService called with ID: 6800e9757e11672dfdb0a01e 
2025-04-17 16:54:52 DEBUG [inventory-api:App]: Session: 
2025-04-17 16:54:53 DEBUG [inventory-api:App]: Session: 
2025-04-17 16:54:53 WARN [inventory-api:RateLimitMiddleware]: Rate limit exceeded for IP: ::ffff:127.0.0.1 
2025-04-17 16:54:53 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: ApiError - Too many requests, please try again later. 
2025-04-17 16:54:53 DEBUG [inventory-api:App]: Session: 
2025-04-17 16:54:53 WARN [inventory-api:RateLimitMiddleware]: Rate limit exceeded for IP: ::ffff:127.0.0.1 
2025-04-17 16:54:53 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: ApiError - Too many requests, please try again later. 
2025-04-17 16:54:53 DEBUG [inventory-api:App]: Session: 
2025-04-17 16:54:53 WARN [inventory-api:RateLimitMiddleware]: Rate limit exceeded for IP: ::ffff:127.0.0.1 
2025-04-17 16:54:53 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: ApiError - Too many requests, please try again later. 
2025-04-17 16:54:53 INFO [inventory-api:UsersController]: getUserProfile called for user johndoe (ID: 6800e9757e11672dfdb0a01e) 
2025-04-17 16:54:53 DEBUG [inventory-api:UsersService]: getUserByIdService called with ID: 6800e9757e11672dfdb0a01e 
2025-04-17 16:54:53 DEBUG [inventory-api:App]: Session: 
2025-04-17 16:54:53 WARN [inventory-api:RateLimitMiddleware]: Rate limit exceeded for IP: ::ffff:127.0.0.1 
2025-04-17 16:54:53 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: ApiError - Too many requests, please try again later. 
2025-04-17 16:54:57 DEBUG [inventory-api:App]: Session: 
2025-04-17 16:54:57 WARN [inventory-api:RateLimitMiddleware]: Rate limit exceeded for IP: ::ffff:127.0.0.1 
2025-04-17 16:54:57 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: ApiError - Too many requests, please try again later. 
2025-04-17 16:54:57 DEBUG [inventory-api:App]: Session: 
2025-04-17 16:54:57 WARN [inventory-api:RateLimitMiddleware]: Rate limit exceeded for IP: ::ffff:127.0.0.1 
2025-04-17 16:54:57 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: ApiError - Too many requests, please try again later. 
2025-04-17 17:13:49 INFO [inventory-api:Server]: SIGINT signal received, shutting down gracefully 
2025-04-17 17:13:49 INFO [inventory-api:Database]: Closing MongoDB connection due to server shutdown 
2025-04-17 17:13:55 DEBUG [inventory-api:TokenModel]: Fixed duplicate indexes in Token schema: 
2025-04-17 17:13:56 INFO [inventory-api:EnvValidator]: =============== ENVIRONMENT SUMMARY =============== 
2025-04-17 17:13:56 INFO [inventory-api:Passport]: GitHub authentication strategy initialized successfully 
2025-04-17 17:13:56 INFO [inventory-api:EnvValidator]: Environment: DEVELOPMENT 
2025-04-17 17:13:56 INFO [inventory-api:EnvValidator]: Port: 3000 
2025-04-17 17:13:56 INFO [inventory-api:EnvValidator]: Database: mongodb+srv://ol****:********@cluster0.wncfx.mongodb.net/team_14_final_project?retryWrites=true&w=majority&appName=Cluster0 
2025-04-17 17:13:56 INFO [inventory-api:EnvValidator]: ------- Features Status ------- 
2025-04-17 17:13:56 INFO [inventory-api:EnvValidator]: githubOAuth: Enabled ✅ 
2025-04-17 17:13:56 INFO [inventory-api:EnvValidator]: =============================================== 
2025-04-17 17:13:56 INFO [inventory-api:Server]: MongoDB connected successfully 
2025-04-17 17:14:00 INFO [inventory-api:Database]: MongoDB Connected: cluster0-shard-00-00.wncfx.mongodb.net 
2025-04-17 17:14:01 INFO [inventory-api:InitUtils]: SUPERADMIN account already exists. Skipping initialization. 
2025-04-17 17:14:01 INFO [inventory-api:Server]: Server running on http://localhost:3000 in development mode 
2025-04-17 17:14:01 INFO [inventory-api:Server]: API Documentation: http://localhost:3000/api-docs 
2025-04-17 17:15:31 DEBUG [inventory-api:App]: Session: 
2025-04-17 17:15:32 INFO [inventory-api:UsersController]: getUserProfile called for user newadmin (ID: 6800c05d2d53dbd2ed931338) 
2025-04-17 17:15:32 DEBUG [inventory-api:UsersService]: getUserByIdService called with ID: 6800c05d2d53dbd2ed931338 
2025-04-17 17:15:48 DEBUG [inventory-api:App]: Session: 
2025-04-17 17:15:49 INFO [inventory-api:UsersController]: getUserProfile called for user newadmin (ID: 6800c05d2d53dbd2ed931338) 
2025-04-17 17:15:49 DEBUG [inventory-api:UsersService]: getUserByIdService called with ID: 6800c05d2d53dbd2ed931338 
2025-04-17 17:15:51 DEBUG [inventory-api:App]: Session: 
2025-04-17 17:15:52 INFO [inventory-api:UsersController]: getUserProfile called for user newadmin (ID: 6800c05d2d53dbd2ed931338) 
2025-04-17 17:15:52 DEBUG [inventory-api:UsersService]: getUserByIdService called with ID: 6800c05d2d53dbd2ed931338 
2025-04-17 17:15:54 DEBUG [inventory-api:App]: Session: 
2025-04-17 17:15:54 INFO [inventory-api:UsersController]: getUserProfile called for user newadmin (ID: 6800c05d2d53dbd2ed931338) 
2025-04-17 17:15:54 DEBUG [inventory-api:UsersService]: getUserByIdService called with ID: 6800c05d2d53dbd2ed931338 
2025-04-17 17:16:52 DEBUG [inventory-api:App]: Session: 
2025-04-17 17:16:52 INFO [inventory-api:UsersController]: getUserProfile called for user newadmin (ID: 6800c05d2d53dbd2ed931338) 
2025-04-17 17:16:52 DEBUG [inventory-api:UsersService]: getUserByIdService called with ID: 6800c05d2d53dbd2ed931338 
2025-04-17 17:17:00 DEBUG [inventory-api:App]: Session: 
2025-04-17 17:17:01 INFO [inventory-api:UsersController]: getAllUsers called 
2025-04-17 17:17:01 DEBUG [inventory-api:UsersService]: getAllUsersService called with query: 
2025-04-17 17:17:01 DEBUG [inventory-api:APIFeatures]: Built filter: 
2025-04-17 17:17:01 DEBUG [inventory-api:UsersController]: Query parameters: 
2025-04-17 17:17:44 DEBUG [inventory-api:App]: Session: 
2025-04-17 17:17:45 INFO [inventory-api:UsersController]: getUserProfile called for user johndoe (ID: 6800e9757e11672dfdb0a01e) 
2025-04-17 17:17:45 DEBUG [inventory-api:UsersService]: getUserByIdService called with ID: 6800e9757e11672dfdb0a01e 
2025-04-17 18:12:52 INFO [inventory-api:Database]: MongoDB reconnected successfully 
2025-04-17 18:12:52 INFO [inventory-api:Database]: MongoDB reconnected successfully 
2025-04-17 18:13:04 WARN [inventory-api:Database]: MongoDB disconnected. Attempting to reconnect... 
2025-04-17 18:13:04 INFO [inventory-api:Database]: MongoDB reconnected successfully 
2025-04-17 18:17:58 WARN [inventory-api:Database]: MongoDB disconnected. Attempting to reconnect... 
2025-04-17 18:18:09 INFO [inventory-api:Database]: MongoDB reconnected successfully 
2025-04-17 18:19:03 INFO [inventory-api:Server]: SIGINT signal received, shutting down gracefully 
2025-04-17 18:19:03 INFO [inventory-api:Database]: Closing MongoDB connection due to server shutdown 
2025-04-17 18:19:03 INFO [inventory-api:Server]: Shutting down server... 
2025-04-17 18:19:03 INFO [inventory-api:Server]: HTTP server closed 
2025-04-17 18:19:04 INFO [inventory-api:Database]: MongoDB connection closed successfully 
2025-04-17 18:19:04 INFO [inventory-api:Server]: Database connections closed 
2025-04-17 18:39:32 DEBUG [inventory-api:TokenModel]: Fixed duplicate indexes in Token schema: 
2025-04-17 18:39:32 INFO [inventory-api:EnvValidator]: =============== ENVIRONMENT SUMMARY =============== 
2025-04-17 18:39:32 INFO [inventory-api:Passport]: GitHub authentication strategy initialized successfully 
2025-04-17 18:39:32 INFO [inventory-api:Server]: MongoDB connected successfully 
2025-04-17 18:39:32 INFO [inventory-api:EnvValidator]: Environment: DEVELOPMENT 
2025-04-17 18:39:32 INFO [inventory-api:EnvValidator]: Port: 3000 
2025-04-17 18:39:32 INFO [inventory-api:EnvValidator]: Database: mongodb+srv://ol****:********@cluster0.wncfx.mongodb.net/team_14_final_project?retryWrites=true&w=majority&appName=Cluster0 
2025-04-17 18:39:32 INFO [inventory-api:EnvValidator]: ------- Features Status ------- 
2025-04-17 18:39:32 INFO [inventory-api:EnvValidator]: githubOAuth: Enabled ✅ 
2025-04-17 18:39:32 INFO [inventory-api:EnvValidator]: =============================================== 
2025-04-17 18:39:35 INFO [inventory-api:Database]: MongoDB Connected: cluster0-shard-00-01.wncfx.mongodb.net 
2025-04-17 18:39:35 INFO [inventory-api:InitUtils]: SUPERADMIN account already exists. Skipping initialization. 
2025-04-17 18:39:35 INFO [inventory-api:Server]: Server running on http://localhost:3000 in development mode 
2025-04-17 18:39:35 INFO [inventory-api:Server]: API Documentation: http://localhost:3000/api-docs 
2025-04-17 18:41:29 DEBUG [inventory-api:App]: Session: 
2025-04-17 18:41:29 DEBUG [inventory-api:App]: Session: 
2025-04-17 18:41:29 DEBUG [inventory-api:App]: Session: 
2025-04-17 18:41:29 DEBUG [inventory-api:App]: Session: 
2025-04-17 18:41:29 DEBUG [inventory-api:App]: Session: 
2025-04-17 18:41:31 DEBUG [inventory-api:App]: Session: 
2025-04-17 18:43:07 DEBUG [inventory-api:App]: Session: 
2025-04-17 18:43:07 WARN [inventory-api:Middleware:Auth]: No authentication token provided 
2025-04-17 18:43:07 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: AuthError - Authentication required. Please provide a valid token. 
2025-04-17 18:45:55 DEBUG [inventory-api:App]: Session: 
2025-04-17 18:45:55 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 18:45:55 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: newuser5@example.com 
2025-04-17 18:45:56 INFO [inventory-api:AuthService]: User authenticated successfully: newuser5@example.com 
2025-04-17 18:46:35 DEBUG [inventory-api:App]: Session: 
2025-04-17 18:46:35 WARN [inventory-api:Middleware:Auth]: No authentication token provided 
2025-04-17 18:46:35 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: AuthError - Authentication required. Please provide a valid token. 
2025-04-17 18:47:44 DEBUG [inventory-api:App]: Session: 
2025-04-17 18:47:45 WARN [inventory-api:Middleware:Auth]: Access denied for user USR-00025 with role USER 
2025-04-17 18:47:45 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: AuthError - You do not have permission to access this resource. Required role: ADMIN or MANAGER 
2025-04-17 19:07:21 INFO [inventory-api:Server]: SIGINT signal received, shutting down gracefully 
2025-04-17 19:07:21 INFO [inventory-api:Database]: Closing MongoDB connection due to server shutdown 
2025-04-17 19:07:26 DEBUG [inventory-api:TokenModel]: Fixed duplicate indexes in Token schema: 
2025-04-17 19:07:27 INFO [inventory-api:EnvValidator]: =============== ENVIRONMENT SUMMARY =============== 
2025-04-17 19:07:26 INFO [inventory-api:Passport]: GitHub authentication strategy initialized successfully 
2025-04-17 19:07:27 INFO [inventory-api:Server]: MongoDB connected successfully 
2025-04-17 19:07:27 INFO [inventory-api:EnvValidator]: Environment: DEVELOPMENT 
2025-04-17 19:07:27 INFO [inventory-api:EnvValidator]: Port: 3000 
2025-04-17 19:07:27 INFO [inventory-api:EnvValidator]: Database: mongodb+srv://ol****:********@cluster0.wncfx.mongodb.net/team_14_final_project?retryWrites=true&w=majority&appName=Cluster0 
2025-04-17 19:07:27 INFO [inventory-api:EnvValidator]: ------- Features Status ------- 
2025-04-17 19:07:27 INFO [inventory-api:EnvValidator]: githubOAuth: Enabled ✅ 
2025-04-17 19:07:27 INFO [inventory-api:EnvValidator]: =============================================== 
2025-04-17 19:07:29 INFO [inventory-api:Database]: MongoDB Connected: cluster0-shard-00-02.wncfx.mongodb.net 
2025-04-17 19:07:29 INFO [inventory-api:InitUtils]: SUPERADMIN account already exists. Skipping initialization. 
2025-04-17 19:07:29 INFO [inventory-api:Server]: Server running on http://localhost:3000 in development mode 
2025-04-17 19:07:29 INFO [inventory-api:Server]: API Documentation: http://localhost:3000/api-docs 
2025-04-17 19:07:51 DEBUG [inventory-api:App]: Session: 
2025-04-17 19:07:51 DEBUG [inventory-api:App]: Session: 
2025-04-17 19:07:51 DEBUG [inventory-api:App]: Session: 
2025-04-17 19:07:51 DEBUG [inventory-api:App]: Session: 
2025-04-17 19:07:51 DEBUG [inventory-api:App]: Session: 
2025-04-17 19:13:22 DEBUG [inventory-api:App]: Session: 
2025-04-17 19:13:22 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 19:13:22 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: admin@inventory-system.com 
2025-04-17 19:13:23 INFO [inventory-api:AuthService]: User authenticated successfully: admin@inventory-system.com 
2025-04-17 19:15:19 DEBUG [inventory-api:App]: Session: 
2025-04-17 19:15:19 INFO [inventory-api:UsersController]: getAllUsers called 
2025-04-17 19:15:19 DEBUG [inventory-api:UsersService]: getAllUsersService called with query: 
2025-04-17 19:15:19 DEBUG [inventory-api:APIFeatures]: Built filter: 
2025-04-17 19:15:19 DEBUG [inventory-api:UsersController]: Query parameters: 
2025-04-17 19:17:20 DEBUG [inventory-api:App]: Session: 
2025-04-17 19:17:20 INFO [inventory-api:UsersController]: getAllUsers called 
2025-04-17 19:17:20 DEBUG [inventory-api:UsersService]: getAllUsersService called with query: 
2025-04-17 19:17:20 DEBUG [inventory-api:APIFeatures]: Built filter: 
2025-04-17 19:17:20 DEBUG [inventory-api:UsersController]: Query parameters: 
2025-04-17 19:17:44 DEBUG [inventory-api:App]: Session: 
2025-04-17 19:17:45 INFO [inventory-api:UsersController]: getAllUsers called 
2025-04-17 19:17:45 DEBUG [inventory-api:UsersService]: getAllUsersService called with query: 
2025-04-17 19:17:45 DEBUG [inventory-api:APIFeatures]: Built filter: 
2025-04-17 19:17:45 DEBUG [inventory-api:UsersController]: Query parameters: 
2025-04-17 19:18:10 INFO [inventory-api:Server]: SIGINT signal received, shutting down gracefully 
2025-04-17 19:18:10 INFO [inventory-api:Database]: Closing MongoDB connection due to server shutdown 
2025-04-17 19:18:17 DEBUG [inventory-api:TokenModel]: Fixed duplicate indexes in Token schema: 
2025-04-17 19:18:18 INFO [inventory-api:EnvValidator]: =============== ENVIRONMENT SUMMARY =============== 
2025-04-17 19:18:17 INFO [inventory-api:Passport]: GitHub authentication strategy initialized successfully 
2025-04-17 19:18:18 INFO [inventory-api:EnvValidator]: Environment: DEVELOPMENT 
2025-04-17 19:18:18 INFO [inventory-api:EnvValidator]: Port: 3000 
2025-04-17 19:18:18 INFO [inventory-api:EnvValidator]: Database: mongodb+srv://ol****:********@cluster0.wncfx.mongodb.net/team_14_final_project?retryWrites=true&w=majority&appName=Cluster0 
2025-04-17 19:18:18 INFO [inventory-api:EnvValidator]: ------- Features Status ------- 
2025-04-17 19:18:18 INFO [inventory-api:EnvValidator]: githubOAuth: Enabled ✅ 
2025-04-17 19:18:18 INFO [inventory-api:EnvValidator]: =============================================== 
2025-04-17 19:18:18 INFO [inventory-api:Server]: MongoDB connected successfully 
2025-04-17 19:18:20 INFO [inventory-api:Database]: MongoDB Connected: cluster0-shard-00-02.wncfx.mongodb.net 
2025-04-17 19:18:20 INFO [inventory-api:InitUtils]: SUPERADMIN account already exists. Skipping initialization. 
2025-04-17 19:18:20 INFO [inventory-api:Server]: Server running on http://localhost:3000 in development mode 
2025-04-17 19:18:20 INFO [inventory-api:Server]: API Documentation: http://localhost:3000/api-docs 
2025-04-17 19:18:35 DEBUG [inventory-api:App]: Session: 
2025-04-17 19:18:35 DEBUG [inventory-api:App]: Session: 
2025-04-17 19:18:35 DEBUG [inventory-api:App]: Session: 
2025-04-17 19:18:35 DEBUG [inventory-api:App]: Session: 
2025-04-17 19:18:35 DEBUG [inventory-api:App]: Session: 
2025-04-17 19:19:22 DEBUG [inventory-api:App]: Session: 
2025-04-17 19:19:22 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 19:19:22 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: admin@inventory-system.com 
2025-04-17 19:19:22 INFO [inventory-api:AuthService]: User authenticated successfully: admin@inventory-system.com 
2025-04-17 19:20:42 DEBUG [inventory-api:App]: Session: 
2025-04-17 19:20:42 INFO [inventory-api:UsersController]: getAllUsers called 
2025-04-17 19:20:42 DEBUG [inventory-api:UsersService]: getAllUsersService called with query: 
2025-04-17 19:20:42 DEBUG [inventory-api:APIFeatures]: Built filter: 
2025-04-17 19:20:42 DEBUG [inventory-api:UsersController]: Query parameters: 
2025-04-17 19:26:01 DEBUG [inventory-api:App]: Session: 
2025-04-17 19:26:01 INFO [inventory-api:AuthController]: login controller called 
2025-04-17 19:26:01 DEBUG [inventory-api:AuthService]: authenticateUserService called for email: admin@inventory-system.com 
2025-04-17 19:26:02 INFO [inventory-api:AuthService]: User authenticated successfully: admin@inventory-system.com 
2025-04-17 19:27:37 DEBUG [inventory-api:App]: Session: 
2025-04-17 19:29:51 INFO [inventory-api:Server]: SIGINT signal received, shutting down gracefully 
2025-04-17 19:29:51 INFO [inventory-api:Database]: Closing MongoDB connection due to server shutdown 
2025-04-17 19:29:55 DEBUG [inventory-api:TokenModel]: Fixed duplicate indexes in Token schema: 
2025-04-17 19:29:56 INFO [inventory-api:EnvValidator]: =============== ENVIRONMENT SUMMARY =============== 
2025-04-17 19:29:55 INFO [inventory-api:Passport]: GitHub authentication strategy initialized successfully 
2025-04-17 19:29:56 INFO [inventory-api:EnvValidator]: Environment: DEVELOPMENT 
2025-04-17 19:29:56 INFO [inventory-api:EnvValidator]: Port: 3000 
2025-04-17 19:29:56 INFO [inventory-api:EnvValidator]: Database: mongodb+srv://ol****:********@cluster0.wncfx.mongodb.net/team_14_final_project?retryWrites=true&w=majority&appName=Cluster0 
2025-04-17 19:29:56 INFO [inventory-api:EnvValidator]: ------- Features Status ------- 
2025-04-17 19:29:56 INFO [inventory-api:EnvValidator]: githubOAuth: Enabled ✅ 
2025-04-17 19:29:56 INFO [inventory-api:EnvValidator]: =============================================== 
2025-04-17 19:29:56 INFO [inventory-api:Server]: MongoDB connected successfully 
2025-04-17 19:29:58 INFO [inventory-api:Database]: MongoDB Connected: cluster0-shard-00-01.wncfx.mongodb.net 
2025-04-17 19:29:58 INFO [inventory-api:InitUtils]: SUPERADMIN account already exists. Skipping initialization. 
2025-04-17 19:29:58 INFO [inventory-api:Server]: Server running on http://localhost:3000 in development mode 
2025-04-17 19:29:58 INFO [inventory-api:Server]: API Documentation: http://localhost:3000/api-docs 
2025-04-17 19:30:03 DEBUG [inventory-api:App]: Session: 
2025-04-17 19:30:03 DEBUG [inventory-api:App]: Session: 
2025-04-17 19:30:03 DEBUG [inventory-api:App]: Session: 
2025-04-17 19:30:03 DEBUG [inventory-api:App]: Session: 
2025-04-17 19:30:03 DEBUG [inventory-api:App]: Session: 
2025-04-17 19:30:46 DEBUG [inventory-api:App]: Session: 
2025-04-17 19:30:46 WARN [inventory-api:Middleware:Auth]: No authentication token provided 
2025-04-17 19:30:46 ERROR [inventory-api:ErrorMiddleware]: Error caught in middleware: AuthError - Authentication required. Please provide a valid token. 
2025-04-17 19:31:25 DEBUG [inventory-api:App]: Session: 
2025-04-17 19:31:26 INFO [inventory-api:UsersController]: getAllUsers called 
2025-04-17 19:31:26 DEBUG [inventory-api:UsersService]: getAllUsersService called with query: 
2025-04-17 19:31:26 DEBUG [inventory-api:APIFeatures]: Built filter: 
2025-04-17 19:31:26 DEBUG [inventory-api:UsersController]: Query parameters: 
2025-04-17 19:39:16 DEBUG [inventory-api:App]: Session: 
2025-04-17 19:39:17 INFO [inventory-api:UsersController]: getUserProfile called for user systemadmin (ID: 6800aded707777d5a69e2670) 
2025-04-17 19:39:17 DEBUG [inventory-api:UsersService]: getUserByIdService called with ID: 6800aded707777d5a69e2670 
2025-04-17 19:42:33 INFO [inventory-api:Server]: SIGINT signal received, shutting down gracefully 
2025-04-17 19:42:33 INFO [inventory-api:Database]: Closing MongoDB connection due to server shutdown 
2025-04-17 19:42:37 DEBUG [inventory-api:TokenModel]: Fixed duplicate indexes in Token schema: 
2025-04-17 19:42:38 INFO [inventory-api:EnvValidator]: =============== ENVIRONMENT SUMMARY =============== 
2025-04-17 19:42:38 INFO [inventory-api:Passport]: GitHub authentication strategy initialized successfully 
2025-04-17 19:42:38 INFO [inventory-api:EnvValidator]: Environment: DEVELOPMENT 
2025-04-17 19:42:38 INFO [inventory-api:EnvValidator]: Port: 3000 
2025-04-17 19:42:38 INFO [inventory-api:EnvValidator]: Database: mongodb+srv://ol****:********@cluster0.wncfx.mongodb.net/team_14_final_project?retryWrites=true&w=majority&appName=Cluster0 
2025-04-17 19:42:38 INFO [inventory-api:EnvValidator]: ------- Features Status ------- 
2025-04-17 19:42:38 INFO [inventory-api:EnvValidator]: githubOAuth: Enabled ✅ 
2025-04-17 19:42:38 INFO [inventory-api:EnvValidator]: =============================================== 
2025-04-17 19:42:38 INFO [inventory-api:Server]: MongoDB connected successfully 
2025-04-17 19:42:40 INFO [inventory-api:Database]: MongoDB Connected: cluster0-shard-00-01.wncfx.mongodb.net 
2025-04-17 19:42:41 INFO [inventory-api:InitUtils]: SUPERADMIN account already exists. Skipping initialization. 
2025-04-17 19:42:41 INFO [inventory-api:Server]: Server running on http://localhost:3000 in development mode 
2025-04-17 19:42:41 INFO [inventory-api:Server]: API Documentation: http://localhost:3000/api-docs 
2025-04-17 19:43:40 DEBUG [inventory-api:App]: Session: 
2025-04-17 19:43:40 DEBUG [inventory-api:App]: Session: 
2025-04-17 19:43:40 DEBUG [inventory-api:App]: Session: 
2025-04-17 19:43:40 DEBUG [inventory-api:App]: Session: 
2025-04-17 19:43:40 DEBUG [inventory-api:App]: Session: 
2025-04-17 19:44:16 DEBUG [inventory-api:App]: Session: 
2025-04-17 19:44:16 INFO [inventory-api:UsersController]: getAllUsers called 
2025-04-17 19:44:16 DEBUG [inventory-api:UsersService]: getAllUsersService called with query: 
2025-04-17 19:44:16 DEBUG [inventory-api:APIFeatures]: Built filter: 
2025-04-17 19:44:16 DEBUG [inventory-api:UsersController]: Query parameters: 
2025-04-17 19:44:56 DEBUG [inventory-api:App]: Session: 
2025-04-17 19:44:57 INFO [inventory-api:UsersController]: getAllUsers called 
2025-04-17 19:44:57 DEBUG [inventory-api:UsersService]: getAllUsersService called with query: 
2025-04-17 19:44:57 DEBUG [inventory-api:APIFeatures]: Built filter: 
2025-04-17 19:44:57 DEBUG [inventory-api:UsersController]: Query parameters: 
